{"version":3,"file":"main.js","mappings":"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AEA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB,6BAA6B;AAClD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACvGa;;AAEb;AACA;;AAEA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;ACtCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACVa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAEjF;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACXa;;AAEb;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;;AAEA;AACA,iFAAiF;AACjF;;AAEA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA,yDAAyD;AACzD,IAAI;;AAEJ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACrEa;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI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","sources":["webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack:///./src/style.css","webpack:///./src/style.css?7163","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack:///./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack:///./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack:///./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack:///./node_modules/three/build/three.module.js","webpack:///./node_modules/three/examples/jsm/controls/TrackballControls.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/nonce","webpack:///./src/index.js"],"sourcesContent":["\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@font-face {\\r\\n    font-family: 'M PLUS 1 Code', sans-serif;\\r\\n    src: url('https://fonts.googleapis.com/css2?family=M+PLUS+1+Code&display=swap');\\r\\n}\\r\\n@font-face {\\r\\n    font-family: 'Orbitron', sans-serif;\\r\\n    src: url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');\\r\\n}\\r\\n\\r\\ncanvas {\\r\\n    display: block;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    overflow: hidden;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}  \\r\\n\\r\\n#star-data {\\r\\n    background-color: #222;\\r\\n    color: #fff;\\r\\n    font-family: 'Orbitron', sans-serif;\\r\\n    position: absolute;\\r\\n    font-size: 16px;\\r\\n    padding: 20px;\\r\\n    border-radius: 8px;\\r\\n    color: white;\\r\\n}  \", \"\",{\"version\":3,\"sources\":[\"webpack://./src/style.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,wCAAwC;IACxC,+EAA+E;AACnF;AACA;IACI,mCAAmC;IACnC,0EAA0E;AAC9E;;AAEA;IACI,cAAc;IACd,SAAS;IACT,UAAU;IACV,MAAM;IACN,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,gBAAgB;IAChB,SAAS;IACT,UAAU;AACd;;AAEA;IACI,sBAAsB;IACtB,WAAW;IACX,mCAAmC;IACnC,kBAAkB;IAClB,eAAe;IACf,aAAa;IACb,kBAAkB;IAClB,YAAY;AAChB\",\"sourcesContent\":[\"@font-face {\\r\\n    font-family: 'M PLUS 1 Code', sans-serif;\\r\\n    src: url('https://fonts.googleapis.com/css2?family=M+PLUS+1+Code&display=swap');\\r\\n}\\r\\n@font-face {\\r\\n    font-family: 'Orbitron', sans-serif;\\r\\n    src: url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');\\r\\n}\\r\\n\\r\\ncanvas {\\r\\n    display: block;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    overflow: hidden;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}  \\r\\n\\r\\n#star-data {\\r\\n    background-color: #222;\\r\\n    color: #fff;\\r\\n    font-family: 'Orbitron', sans-serif;\\r\\n    position: absolute;\\r\\n    font-size: 16px;\\r\\n    padding: 20px;\\r\\n    border-radius: 8px;\\r\\n    color: white;\\r\\n}  \"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","/**\n * @license\n * Copyright 2010-2022 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '147';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022; // @deprecated since r137\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\n// Color space string identifiers, matching CSS Color Module Level 4 and WebGPU names where available.\nconst NoColorSpace = '';\nconst SRGBColorSpace = 'srgb';\nconst LinearSRGBColorSpace = 'srgb-linear';\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\nconst _SRGBAFormat = 1035; // fallback for WebGL 1\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [ '00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '0a', '0b', '0c', '0d', '0e', '0f', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '1a', '1b', '1c', '1d', '1e', '1f', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '2a', '2b', '2c', '2d', '2e', '2f', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '3a', '3b', '3c', '3d', '3e', '3f', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '4a', '4b', '4c', '4d', '4e', '4f', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '5a', '5b', '5c', '5d', '5e', '5f', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '6a', '6b', '6c', '6d', '6e', '6f', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '7a', '7b', '7c', '7d', '7e', '7f', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '8a', '8b', '8c', '8d', '8e', '8f', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '9a', '9b', '9c', '9d', '9e', '9f', 'a0', 'a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'a9', 'aa', 'ab', 'ac', 'ad', 'ae', 'af', 'b0', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'b9', 'ba', 'bb', 'bc', 'bd', 'be', 'bf', 'c0', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'c9', 'ca', 'cb', 'cc', 'cd', 'ce', 'cf', 'd0', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8', 'd9', 'da', 'db', 'dc', 'dd', 'de', 'df', 'e0', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8', 'e9', 'ea', 'eb', 'ec', 'ed', 'ee', 'ef', 'f0', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'f9', 'fa', 'fb', 'fc', 'fd', 'fe', 'ff' ];\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toLowerCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toLowerCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidean modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t} else {\n\n\t\treturn 0;\n\n\t}\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s;\n\n\t// Mulberry32 generator\n\n\tlet t = _seed += 0x6D2B79F5;\n\n\tt = Math.imul( t ^ t >>> 15, t | 1 );\n\n\tt ^= t + Math.imul( t ^ t >>> 7, t | 61 );\n\n\treturn ( ( t ^ t >>> 14 ) >>> 0 ) / 4294967296;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nfunction denormalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn value / 65535.0;\n\n\t\tcase Uint8Array:\n\n\t\t\treturn value / 255.0;\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.max( value / 32767.0, - 1.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.max( value / 127.0, - 1.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nfunction normalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn Math.round( value * 65535.0 );\n\n\t\tcase Uint8Array:\n\n\t\t\treturn Math.round( value * 255.0 );\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.round( value * 32767.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.round( value * 127.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler,\n\tnormalize: normalize,\n\tdenormalize: denormalize\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tVector2.prototype.isVector2 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\n\t}\n\n}\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tMatrix3.prototype.isMatrix3 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\tscale( sx, sy ) {\n\n\t\tthis.premultiply( _m3.makeScale( sx, sy ) );\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tthis.premultiply( _m3.makeRotation( - theta ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tthis.premultiply( _m3.makeTranslation( tx, ty ) );\n\n\t\treturn this;\n\n\t}\n\n\t// for 2D Transforms\n\n\tmakeTranslation( x, y ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, x,\n\t\t\t0, 1, y,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotation( theta ) {\n\n\t\t// counterclockwise\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0,\n\t\t\ts, c, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0,\n\t\t\t0, y, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nconst _m3 = /*@__PURE__*/ new Matrix3();\n\nfunction arrayNeedsUint32( array ) {\n\n\t// assumes larger values usually on last\n\n\tfor ( let i = array.length - 1; i >= 0; -- i ) {\n\n\t\tif ( array[ i ] >= 65535 ) return true; // account for PRIMITIVE_RESTART_FIXED_INDEX, #24565\n\n\t}\n\n\treturn false;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nfunction createElementNS( name ) {\n\n\treturn document.createElementNS( 'http://www.w3.org/1999/xhtml', name );\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\n// JavaScript RGB-to-RGB transforms, defined as\n// FN[InputColorSpace][OutputColorSpace] callback functions.\nconst FN = {\n\t[ SRGBColorSpace ]: { [ LinearSRGBColorSpace ]: SRGBToLinear },\n\t[ LinearSRGBColorSpace ]: { [ SRGBColorSpace ]: LinearToSRGB },\n};\n\nconst ColorManagement = {\n\n\tlegacyMode: true,\n\n\tget workingColorSpace() {\n\n\t\treturn LinearSRGBColorSpace;\n\n\t},\n\n\tset workingColorSpace( colorSpace ) {\n\n\t\tconsole.warn( 'THREE.ColorManagement: .workingColorSpace is readonly.' );\n\n\t},\n\n\tconvert: function ( color, sourceColorSpace, targetColorSpace ) {\n\n\t\tif ( this.legacyMode || sourceColorSpace === targetColorSpace || ! sourceColorSpace || ! targetColorSpace ) {\n\n\t\t\treturn color;\n\n\t\t}\n\n\t\tif ( FN[ sourceColorSpace ] && FN[ sourceColorSpace ][ targetColorSpace ] !== undefined ) {\n\n\t\t\tconst fn = FN[ sourceColorSpace ][ targetColorSpace ];\n\n\t\t\tcolor.r = fn( color.r );\n\t\t\tcolor.g = fn( color.g );\n\t\t\tcolor.b = fn( color.b );\n\n\t\t\treturn color;\n\n\t\t}\n\n\t\tthrow new Error( 'Unsupported color space conversion.' );\n\n\t},\n\n\tfromWorkingColorSpace: function ( color, targetColorSpace ) {\n\n\t\treturn this.convert( color, this.workingColorSpace, targetColorSpace );\n\n\t},\n\n\ttoWorkingColorSpace: function ( color, sourceColorSpace ) {\n\n\t\treturn this.convert( color, sourceColorSpace, this.workingColorSpace );\n\n\t},\n\n};\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _rgb$1 = { r: 0, g: 0, b: 0 };\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction toComponents( source, target ) {\n\n\ttarget.r = source.r;\n\ttarget.g = source.g;\n\ttarget.b = source.b;\n\n\treturn target;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tthis.isColor = true;\n\n\t\tthis.r = 1;\n\t\tthis.g = 1;\n\t\tthis.b = 1;\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex, colorSpace = SRGBColorSpace ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style, colorSpace = SRGBColorSpace ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d*\\.?\\d+)\\%\\s*,\\s*(\\d*\\.?\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseFloat( color[ 2 ] ) / 100;\n\t\t\t\t\t\tconst l = parseFloat( color[ 3 ] ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l, colorSpace );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style, colorSpace );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style, colorSpace = SRGBColorSpace ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex, colorSpace );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb$1 ), colorSpace );\n\n\t\treturn clamp( _rgb$1.r * 255, 0, 255 ) << 16 ^ clamp( _rgb$1.g * 255, 0, 255 ) << 8 ^ clamp( _rgb$1.b * 255, 0, 255 ) << 0;\n\n\t}\n\n\tgetHexString( colorSpace = SRGBColorSpace ) {\n\n\t\treturn ( '000000' + this.getHex( colorSpace ).toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb$1 ), colorSpace );\n\n\t\tconst r = _rgb$1.r, g = _rgb$1.g, b = _rgb$1.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetRGB( target, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb$1 ), colorSpace );\n\n\t\ttarget.r = _rgb$1.r;\n\t\ttarget.g = _rgb$1.g;\n\t\ttarget.b = _rgb$1.b;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb$1 ), colorSpace );\n\n\t\tif ( colorSpace !== SRGBColorSpace ) {\n\n\t\t\t// Requires CSS Color Module Level 4 (https://www.w3.org/TR/css-color-4/).\n\t\t\treturn `color(${ colorSpace } ${ _rgb$1.r } ${ _rgb$1.g } ${ _rgb$1.b })`;\n\n\t\t}\n\n\t\treturn `rgb(${( _rgb$1.r * 255 ) | 0},${( _rgb$1.g * 255 ) | 0},${( _rgb$1.b * 255 ) | 0})`;\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.r;\n\t\tyield this.g;\n\t\tyield this.b;\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = createElementNS( 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n\tstatic sRGBToLinear( image ) {\n\n\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\tconst canvas = createElementNS( 'canvas' );\n\n\t\t\tcanvas.width = image.width;\n\t\t\tcanvas.height = image.height;\n\n\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\tconst imageData = context.getImageData( 0, 0, image.width, image.height );\n\t\t\tconst data = imageData.data;\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] / 255 ) * 255;\n\n\t\t\t}\n\n\t\t\tcontext.putImageData( imageData, 0, 0 );\n\n\t\t\treturn canvas;\n\n\t\t} else if ( image.data ) {\n\n\t\t\tconst data = image.data.slice( 0 );\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tif ( data instanceof Uint8Array || data instanceof Uint8ClampedArray ) {\n\n\t\t\t\t\tdata[ i ] = Math.floor( SRGBToLinear( data[ i ] / 255 ) * 255 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// assuming float\n\n\t\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: data,\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.' );\n\t\t\treturn image;\n\n\t\t}\n\n\t}\n\n}\n\nclass Source {\n\n\tconstructor( data = null ) {\n\n\t\tthis.isSource = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.data = data;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.images[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.images[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\t\t\tuuid: this.uuid,\n\t\t\turl: ''\n\t\t};\n\n\t\tconst data = this.data;\n\n\t\tif ( data !== null ) {\n\n\t\t\tlet url;\n\n\t\t\tif ( Array.isArray( data ) ) {\n\n\t\t\t\t// cube texture\n\n\t\t\t\turl = [];\n\n\t\t\t\tfor ( let i = 0, l = data.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( data[ i ].isDataTexture ) {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ].image ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// texture\n\n\t\t\t\turl = serializeImage( data );\n\n\t\t\t}\n\n\t\t\toutput.url = url;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.images[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n}\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.from( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = Texture.DEFAULT_ANISOTROPY, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tthis.isTexture = true;\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.source = new Source( image );\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t\tthis.isRenderTargetTexture = false; // indicates whether a texture belongs to a render target or not\n\t\tthis.needsPMREMUpdate = false; // indicates whether this texture should be processed by PMREMGenerator or not (only relevant for render target textures)\n\n\t}\n\n\tget image() {\n\n\t\treturn this.source.data;\n\n\t}\n\n\tset image( value ) {\n\n\t\tthis.source.data = value;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.source = source.source;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\timage: this.source.toJSON( meta ).uuid,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) output.userData = this.userData;\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) {\n\n\t\t\tthis.version ++;\n\t\t\tthis.source.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = null;\nTexture.DEFAULT_MAPPING = UVMapping;\nTexture.DEFAULT_ANISOTROPY = 1;\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tVector4.prototype.isVector4 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\t\tyield this.w;\n\n\t}\n\n}\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width = 1, height = 1, options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.isWebGLRenderTarget = true;\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\tconst image = { width: width, height: height, depth: 1 };\n\n\t\tthis.texture = new Texture( image, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.flipY = false;\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t\tthis.samples = options.samples !== undefined ? options.samples : 0;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\t// ensure image object is not shared, see #20328\n\n\t\tconst image = Object.assign( {}, source.texture.image );\n\t\tthis.texture.source = new Source( image );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass DataArrayTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.isDataArrayTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGLArrayRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGLArrayRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new DataArrayTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass Data3DTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.isData3DTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGL3DRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGL3DRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new Data3DTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\n\tconstructor( width = 1, height = 1, count = 1, options = {} ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.isWebGLMultipleRenderTargets = true;\n\n\t\tconst texture = this.texture;\n\n\t\tthis.texture = [];\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.texture[ i ] = texture.clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tfor ( let i = 0, il = this.texture.length; i < il; i ++ ) {\n\n\t\t\t\tthis.texture[ i ].image.width = width;\n\t\t\t\tthis.texture[ i ].image.height = height;\n\t\t\t\tthis.texture[ i ].image.depth = depth;\n\n\t\t\t}\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.dispose();\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.set( 0, 0, this.width, this.height );\n\t\tthis.scissor.set( 0, 0, this.width, this.height );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.texture.length = 0;\n\n\t\tfor ( let i = 0, il = source.texture.length; i < il; i ++ ) {\n\n\t\t\tthis.texture[ i ] = source.texture[ i ].clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.isQuaternion = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\treturn this.copy( qa ).slerp( qb, t );\n\n\t}\n\n\trandom() {\n\n\t\t// Derived from http://planning.cs.uiuc.edu/node198.html\n\t\t// Note, this source uses w, x, y, z ordering,\n\t\t// so we swap the order below.\n\n\t\tconst u1 = Math.random();\n\t\tconst sqrt1u1 = Math.sqrt( 1 - u1 );\n\t\tconst sqrtu1 = Math.sqrt( u1 );\n\n\t\tconst u2 = 2 * Math.PI * Math.random();\n\n\t\tconst u3 = 2 * Math.PI * Math.random();\n\n\t\treturn this.set(\n\t\t\tsqrt1u1 * Math.cos( u2 ),\n\t\t\tsqrtu1 * Math.sin( u3 ),\n\t\t\tsqrtu1 * Math.cos( u3 ),\n\t\t\tsqrt1u1 * Math.sin( u2 ),\n\t\t);\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._w;\n\n\t}\n\n}\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tVector3.prototype.isVector3 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tsetFromEuler( e ) {\n\n\t\tthis.x = e._x;\n\t\tthis.y = e._y;\n\t\tthis.z = e._z;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\trandomDirection() {\n\n\t\t// Derived from https://mathworld.wolfram.com/SpherePointPicking.html\n\n\t\tconst u = ( Math.random() - 0.5 ) * 2;\n\t\tconst t = Math.random() * Math.PI * 2;\n\t\tconst f = Math.sqrt( 1 - u ** 2 );\n\n\t\tthis.x = f * Math.cos( t );\n\t\tthis.y = f * Math.sin( t );\n\t\tthis.z = u;\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\n\t}\n\n}\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox3 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object, precise = false ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object, precise );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object, precise = false ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( precise && geometry.attributes != undefined && geometry.attributes.position !== undefined ) {\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tfor ( let i = 0, l = position.count; i < l; i ++ ) {\n\n\t\t\t\t\t_vector$b.fromBufferAttribute( position, i ).applyMatrix4( object.matrixWorld );\n\t\t\t\t\tthis.expandByPoint( _vector$b );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t\t}\n\n\t\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\t\tthis.union( _box$3 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ], precise );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$4.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$4, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$4 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$4, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$4, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$4, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$4 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the separating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the separating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is separating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\tthis.center.copy( point );\n\n\t\t\tthis.radius = 0;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\t_v1$6.subVectors( point, this.center );\n\n\t\tconst lengthSq = _v1$6.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\t// calculate the minimal sphere\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\n\t\t\tconst delta = ( length - this.radius ) * 0.5;\n\n\t\t\tthis.center.addScaledVector( _v1$6, delta / length );\n\n\t\t\tthis.radius += delta;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\tif ( sphere.isEmpty() ) {\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\tthis.copy( sphere );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( this.center.equals( sphere.center ) === true ) {\n\n\t\t\t this.radius = Math.max( this.radius, sphere.radius );\n\n\t\t} else {\n\n\t\t\t_v2$3.subVectors( sphere.center, this.center ).setLength( sphere.radius );\n\n\t\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _v2$3 ) );\n\n\t\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _v2$3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\tif ( tymin > tmin || isNaN( tmin ) ) tmin = tymin;\n\n\t\tif ( tymax < tmax || isNaN( tmax ) ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tMatrix4.prototype.isMatrix4 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis.isEuler = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order = this._order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order = this._order, update = true ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update === true ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order = this._order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._order;\n\n\t}\n\n\t// @deprecated since r138, 02cf0df1cb4575d5842fef9c85bb5a89fe020d53\n\n\ttoVector3() {\n\n\t\tconsole.error( 'THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead' );\n\n\t}\n\n}\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = ( 1 << channel | 0 ) >>> 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n\tisEnabled( channel ) {\n\n\t\treturn ( this.mask & ( 1 << channel | 0 ) ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = /*@__PURE__*/ new Vector3();\nconst _q1 = /*@__PURE__*/ new Quaternion();\nconst _m1$1 = /*@__PURE__*/ new Matrix4();\nconst _target = /*@__PURE__*/ new Vector3();\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$2 = /*@__PURE__*/ new Quaternion();\n\nconst _xAxis = /*@__PURE__*/ new Vector3( 1, 0, 0 );\nconst _yAxis = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nconst _zAxis = /*@__PURE__*/ new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isObject3D = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.matrixWorldAutoUpdate = Object3D.DefaultMatrixWorldAutoUpdate; // checked by the renderer\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tonAfterRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremoveFromParent() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent.remove( this );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\t// Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast( /* raycaster, intersects */ ) {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tconst child = children[ i ];\n\n\t\t\tif ( child.matrixWorldAutoUpdate === true || force === true ) {\n\n\t\t\t\tchild.updateMatrixWorld( force );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null && parent.matrixWorldAutoUpdate === true ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\n\t\t\t\tif ( child.matrixWorldAutoUpdate === true ) {\n\n\t\t\t\t\tchild.updateWorldMatrix( false, true );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {},\n\t\t\t\tnodes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isScene ) {\n\n\t\t\tif ( this.background ) {\n\n\t\t\t\tif ( this.background.isColor ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON();\n\n\t\t\t\t} else if ( this.background.isTexture ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON( meta ).uuid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.environment && this.environment.isTexture && this.environment.isRenderTargetTexture !== true ) {\n\n\t\t\t\tobject.environment = this.environment.toJSON( meta ).uuid;\n\n\t\t\t}\n\n\t\t} else if ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\t\t\tconst nodes = extractFromCache( meta.nodes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\t\t\tif ( nodes.length > 0 ) output.nodes = nodes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.matrixWorldAutoUpdate = source.matrixWorldAutoUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\nObject3D.DefaultMatrixWorldAutoUpdate = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAttributeAndIndices( attribute, i0, i1, i2 ) {\n\n\t\tthis.a.fromBufferAttribute( attribute, i0 );\n\t\tthis.b.fromBufferAttribute( attribute, i1 );\n\t\tthis.c.fromBufferAttribute( attribute, i2 );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nclass Material extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isMaterial = true;\n\n\t\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\n\t\tthis.blending = NormalBlending;\n\t\tthis.side = FrontSide;\n\t\tthis.vertexColors = false;\n\n\t\tthis.opacity = 1;\n\t\tthis.transparent = false;\n\n\t\tthis.blendSrc = SrcAlphaFactor;\n\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\n\t\tthis.depthFunc = LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\n\t\tthis.stencilWriteMask = 0xff;\n\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\tthis.stencilRef = 0;\n\t\tthis.stencilFuncMask = 0xff;\n\t\tthis.stencilFail = KeepStencilOp;\n\t\tthis.stencilZFail = KeepStencilOp;\n\t\tthis.stencilZPass = KeepStencilOp;\n\t\tthis.stencilWrite = false;\n\n\t\tthis.clippingPlanes = null;\n\t\tthis.clipIntersection = false;\n\t\tthis.clipShadows = false;\n\n\t\tthis.shadowSide = null;\n\n\t\tthis.colorWrite = true;\n\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\n\t\tthis.dithering = false;\n\n\t\tthis.alphaToCoverage = false;\n\t\tthis.premultipliedAlpha = false;\n\n\t\tthis.visible = true;\n\n\t\tthis.toneMapped = true;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\n\t\tthis._alphaTest = 0;\n\n\t}\n\n\tget alphaTest() {\n\n\t\treturn this._alphaTest;\n\n\t}\n\n\tset alphaTest( value ) {\n\n\t\tif ( this._alphaTest > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._alphaTest = value;\n\n\t}\n\n\tonBuild( /* shaderobject, renderer */ ) {}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, object, group */ ) {}\n\n\tonBeforeCompile( /* shaderobject, renderer */ ) {}\n\n\tcustomProgramCacheKey() {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t}\n\n\tsetValues( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRootObject ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen !== undefined ) data.sheen = this.sheen;\n\t\tif ( this.sheenColor && this.sheenColor.isColor ) data.sheenColor = this.sheenColor.getHex();\n\t\tif ( this.sheenRoughness !== undefined ) data.sheenRoughness = this.sheenRoughness;\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.specularIntensity !== undefined ) data.specularIntensity = this.specularIntensity;\n\t\tif ( this.specularColor && this.specularColor.isColor ) data.specularColor = this.specularColor.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.iridescence !== undefined ) data.iridescence = this.iridescence;\n\t\tif ( this.iridescenceIOR !== undefined ) data.iridescenceIOR = this.iridescenceIOR;\n\t\tif ( this.iridescenceThicknessRange !== undefined ) data.iridescenceThicknessRange = this.iridescenceThicknessRange;\n\n\t\tif ( this.iridescenceMap && this.iridescenceMap.isTexture ) {\n\n\t\t\tdata.iridescenceMap = this.iridescenceMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture ) {\n\n\t\t\tdata.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\tif ( this.specularIntensityMap && this.specularIntensityMap.isTexture ) data.specularIntensityMap = this.specularIntensityMap.toJSON( meta ).uuid;\n\t\tif ( this.specularColorMap && this.specularColorMap.isTexture ) data.specularColorMap = this.specularColorMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.transmission !== undefined ) data.transmission = this.transmission;\n\t\tif ( this.transmissionMap && this.transmissionMap.isTexture ) data.transmissionMap = this.transmissionMap.toJSON( meta ).uuid;\n\t\tif ( this.thickness !== undefined ) data.thickness = this.thickness;\n\t\tif ( this.thicknessMap && this.thicknessMap.isTexture ) data.thicknessMap = this.thicknessMap.toJSON( meta ).uuid;\n\t\tif ( this.attenuationDistance !== undefined && this.attenuationDistance !== Infinity ) data.attenuationDistance = this.attenuationDistance;\n\t\tif ( this.attenuationColor !== undefined ) data.attenuationColor = this.attenuationColor.getHex();\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== undefined && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== undefined && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( this.fog === false ) data.fog = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshBasicMaterial = true;\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.isBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\t// Matching BufferAttribute constructor, do not normalize the array.\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = this.array[ index * this.itemSize ];\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = this.array[ index * this.itemSize + 1 ];\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = this.array[ index * this.itemSize + 2 ];\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = this.array[ index * this.itemSize + 3 ];\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.from( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n\t// @deprecated\n\n\tcopyColorsArray() {\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyColorsArray() was removed in r144.' );\n\n\t}\n\n\tcopyVector2sArray() {\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyVector2sArray() was removed in r144.' );\n\n\t}\n\n\tcopyVector3sArray() {\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyVector3sArray() was removed in r144.' );\n\n\t}\n\n\tcopyVector4sArray() {\n\n\t\tconsole.error( 'THREE.BufferAttribute: copyVector4sArray() was removed in r144.' );\n\n\t}\n\n}\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t\tthis.isFloat16BufferAttribute = true;\n\n\t}\n\n}\n\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nlet _id$1 = 0;\n\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _obj = /*@__PURE__*/ new Object3D();\nconst _offset = /*@__PURE__*/ new Vector3();\nconst _box$1 = /*@__PURE__*/ new Box3();\nconst _boxMorphTargets = /*@__PURE__*/ new Box3();\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBufferGeometry = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _id$1 ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayNeedsUint32( index ) ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\t_m1.makeRotationFromQuaternion( q );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( this.hasAttribute( 'tangent' ) === false ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = this.getAttribute( 'tangent' ).array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\t// @deprecated since r144\n\n\tmerge() {\n\n\t\tconsole.error( 'THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead.' );\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\tindex = indices[ i ] * attribute.data.stride + attribute.offset;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t return new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\t// geometry generator parameters\n\n\t\tif ( source.parameters !== undefined ) this.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isMesh = true;\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tconst index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\tconst uv = geometry.attributes.uv;\n\t\tconst uv2 = geometry.attributes.uv2;\n\t\tconst groups = geometry.groups;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\tif ( index !== null ) {\n\n\t\t\t// indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\t// non-indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = i;\n\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new BoxGeometry( data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments );\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\nfunction cloneUniformsGroups( src ) {\n\n\tconst dst = [];\n\n\tfor ( let u = 0; u < src.length; u ++ ) {\n\n\t\tdst.push( src[ u ].clone() );\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction getUnlitUniformColorSpace( renderer ) {\n\n\tif ( renderer.getRenderTarget() === null ) {\n\n\t\t// https://github.com/mrdoob/three.js/pull/23937#issuecomment-1111067398\n\t\treturn renderer.outputEncoding === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n\n\t}\n\n\treturn LinearSRGBColorSpace;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShaderMaterial = true;\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\t\tthis.uniformsGroups = [];\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\t\tthis.uniformsGroups = cloneUniformsGroups( source.uniformsGroups );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isCamera = true;\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isPerspectiveCamera = true;\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst fov = - 90; // negative fov is not an error\nconst aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, 1, 0 );\n\t\tcameraPX.lookAt( 1, 0, 0 );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, 1, 0 );\n\t\tcameraNX.lookAt( - 1, 0, 0 );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, - 1 );\n\t\tcameraPY.lookAt( 0, 1, 0 );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, 1 );\n\t\tcameraNY.lookAt( 0, - 1, 0 );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, 1, 0 );\n\t\tcameraPZ.lookAt( 0, 0, 1 );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, 1, 0 );\n\t\tcameraNZ.lookAt( 0, 0, - 1 );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst currentToneMapping = renderer.toneMapping;\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.toneMapping = currentToneMapping;\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t\trenderTarget.texture.needsPMREMUpdate = true;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCubeTexture = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size = 1, options = {} ) {\n\n\t\tsuper( size, size, options );\n\n\t\tthis.isWebGLCubeRenderTarget = true;\n\n\t\tconst image = { width: size, height: size, depth: 1 };\n\t\tconst images = [ image, image, image, image, image, image ];\n\n\t\tthis.texture = new CubeTexture( images, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\tthis.isPlane = true;\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else if ( array instanceof Uint8ClampedArray ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.WebGLAttributes: Unsupported buffer data format: ' + array );\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t\tattribute.onUploadCallback();\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PlaneGeometry( data.width, data.height, data.widthSegments, data.heightSegments );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\";\n\nvar alphatest_pars_fragment = \"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\\n    float x2 = x * x;\\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\n#ifdef USE_IRIDESCENCE\\n\\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\\n\\t\\tfloat alpha = pow2( roughness );\\n\\t\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\t\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\t\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\t\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\t\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\t\\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\\n\\t\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\t\\tfloat D = D_GGX( alpha, dotNH );\\n\\t\\treturn F * ( V * D );\\n\\t}\\n#endif\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float dotNH ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tfloat invAlpha = 1.0 / alpha;\\n\\tfloat cos2h = dotNH * dotNH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float dotNV, float dotNL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\\n}\\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat D = D_Charlie( sheenRoughness, dotNH );\\n\\tfloat V = V_Neubelt( dotNV, dotNL );\\n\\treturn sheenColor * ( D * V );\\n}\\n#endif\";\n\nvar iridescence_fragment = \"#ifdef USE_IRIDESCENCE\\n\\tconst mat3 XYZ_TO_REC709 = mat3(\\n\\t\\t 3.2404542, -0.9692660,  0.0556434,\\n\\t\\t-1.5371385,  1.8760108, -0.2040259,\\n\\t\\t-0.4985314,  0.0415560,  1.0572252\\n\\t);\\n\\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\\n\\t\\tvec3 sqrtF0 = sqrt( fresnel0 );\\n\\t\\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\\n\\t}\\n\\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\\n\\t\\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\\n\\t}\\n\\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\\n\\t\\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\\n\\t}\\n\\tvec3 evalSensitivity( float OPD, vec3 shift ) {\\n\\t\\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\\n\\t\\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\\n\\t\\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\\n\\t\\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\\n\\t\\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\\n\\t\\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\\n\\t\\txyz /= 1.0685e-7;\\n\\t\\tvec3 rgb = XYZ_TO_REC709 * xyz;\\n\\t\\treturn rgb;\\n\\t}\\n\\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\\n\\t\\tvec3 I;\\n\\t\\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\\n\\t\\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\\n\\t\\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\\n\\t\\tif ( cosTheta2Sq < 0.0 ) {\\n\\t\\t\\t return vec3( 1.0 );\\n\\t\\t}\\n\\t\\tfloat cosTheta2 = sqrt( cosTheta2Sq );\\n\\t\\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\\n\\t\\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\\n\\t\\tfloat R21 = R12;\\n\\t\\tfloat T121 = 1.0 - R12;\\n\\t\\tfloat phi12 = 0.0;\\n\\t\\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\\n\\t\\tfloat phi21 = PI - phi12;\\n\\t\\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\\t\\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\\n\\t\\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\\n\\t\\tvec3 phi23 = vec3( 0.0 );\\n\\t\\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\\n\\t\\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\\n\\t\\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\\n\\t\\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\\n\\t\\tvec3 phi = vec3( phi21 ) + phi23;\\n\\t\\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\\n\\t\\tvec3 r123 = sqrt( R123 );\\n\\t\\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\\n\\t\\tvec3 C0 = R12 + Rs;\\n\\t\\tI = C0;\\n\\t\\tvec3 Cm = Rs - T121;\\n\\t\\tfor ( int m = 1; m <= 2; ++ m ) {\\n\\t\\t\\tCm *= r123;\\n\\t\\t\\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\\n\\t\\t\\tI += Cm * Sm;\\n\\t\\t}\\n\\t\\treturn max( I, vec3( 0.0 ) );\\n\\t}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos.xyz );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos.xyz );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nvec3 pow2( const in vec3 x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat luminance( const in vec3 rgb ) {\\n\\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\\n\\treturn dot( weights, rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\\n\\t\\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\\n\\t\\tuv.x *= CUBEUV_TEXEL_WIDTH;\\n\\t\\tuv.y *= CUBEUV_TEXEL_HEIGHT;\\n\\t\\t#ifdef texture2DGradEXT\\n\\t\\t\\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( envMap, uv ).rgb;\\n\\t\\t#endif\\n\\t}\\n\\t#define cubeUV_r0 1.0\\n\\t#define cubeUV_v0 0.339\\n\\t#define cubeUV_m0 - 2.0\\n\\t#define cubeUV_r1 0.8\\n\\t#define cubeUV_v1 0.276\\n\\t#define cubeUV_m1 - 1.0\\n\\t#define cubeUV_r4 0.4\\n\\t#define cubeUV_v4 0.046\\n\\t#define cubeUV_m4 2.0\\n\\t#define cubeUV_r5 0.305\\n\\t#define cubeUV_v5 0.016\\n\\t#define cubeUV_m5 3.0\\n\\t#define cubeUV_r6 0.21\\n\\t#define cubeUV_v6 0.0038\\n\\t#define cubeUV_m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= cubeUV_r1 ) {\\n\\t\\t\\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\\n\\t\\t} else if ( roughness >= cubeUV_r4 ) {\\n\\t\\t\\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\\n\\t\\t} else if ( roughness >= cubeUV_r5 ) {\\n\\t\\t\\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\\n\\t\\t} else if ( roughness >= cubeUV_r6 ) {\\n\\t\\t\\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"vec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn vec3( texture2D( gradientMap, coord ).r );\\n\\t#else\\n\\t\\tvec2 fw = fwidth( coord ) * 0.5;\\n\\t\\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_fragment = \"LambertMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_lambert_pars_fragment = \"varying vec3 vViewPosition;\\nstruct LambertMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Lambert\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Lambert\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\\n\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#else\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\\n\\t\\tfloat dotNL = dot( normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\tvec3 getIBLIrradiance( const in vec3 normal ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec = reflect( - viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\tmaterial.ior = ior;\\n\\t#ifdef SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularColorFactor = specularColor;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\t\\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularColorFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tmaterial.iridescence = iridescence;\\n\\tmaterial.iridescenceIOR = iridescenceIOR;\\n\\t#ifdef USE_IRIDESCENCEMAP\\n\\t\\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\t\\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\\n\\t#else\\n\\t\\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\\n\\t#endif\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheenColor;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\\n\\t#endif\\n\\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\\n\\t#endif\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tfloat iridescence;\\n\\t\\tfloat iridescenceIOR;\\n\\t\\tfloat iridescenceThickness;\\n\\t\\tvec3 iridescenceFresnel;\\n\\t\\tvec3 iridescenceF0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenColor;\\n\\t\\tfloat sheenRoughness;\\n\\t#endif\\n\\t#ifdef IOR\\n\\t\\tfloat ior;\\n\\t#endif\\n\\t#ifdef USE_TRANSMISSION\\n\\t\\tfloat transmission;\\n\\t\\tfloat transmissionAlpha;\\n\\t\\tfloat thickness;\\n\\t\\tfloat attenuationDistance;\\n\\t\\tvec3 attenuationColor;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec3 sheenSpecular = vec3( 0.0 );\\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat r2 = roughness * roughness;\\n\\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\\n\\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\\n\\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\\n\\treturn saturate( DG * RECIPROCAL_PI );\\n}\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\n#ifdef USE_IRIDESCENCE\\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#else\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#endif\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\\n\\t#else\\n\\t\\tvec3 Fr = specularColor;\\n\\t#endif\\n\\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\\n\\t#else\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\\n\\t#else\\n\\t\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\t#endif\\n\\tvec3 totalScattering = singleScattering + multiScattering;\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\\n\\tif ( material.iridescenceThickness == 0.0 ) {\\n\\t\\tmaterial.iridescence = 0.0;\\n\\t} else {\\n\\t\\tmaterial.iridescence = saturate( material.iridescence );\\n\\t}\\n\\tif ( material.iridescence > 0.0 ) {\\n\\t\\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\\n\\t\\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\\n\\t}\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tvec4 spotColor;\\n\\tvec3 spotLightCoord;\\n\\tbool inSpotLightMap;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\\n\\t\\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\\n\\t\\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\\n\\t\\t#else\\n\\t\\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\\n\\t\\t#endif\\n\\t\\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\\n\\t\\t\\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\\n\\t\\t\\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\\n\\t\\t\\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\\n\\t\\t\\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\\n\\t\\t#endif\\n\\t\\t#undef SPOT_LIGHT_MAP_INDEX\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry.normal );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 sampledDiffuseColor = texture2D( map, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\\n\\t#endif\\n\\tdiffuseColor *= sampledDiffuseColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tdiffuseColor *= texture2D( map, uv );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphcolor_vertex = \"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\\n\\tvColor *= morphTargetBaseInfluence;\\n\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t#if defined( USE_COLOR_ALPHA )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\\n\\t\\t#elif defined( USE_COLOR )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\t\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\t\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\t\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\\n\\t\\tuniform sampler2DArray morphTargetsTexture;\\n\\t\\tuniform ivec2 morphTargetsTextureSize;\\n\\t\\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\\n\\t\\t\\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\\n\\t\\t\\tint y = texelIndex / morphTargetsTextureSize.x;\\n\\t\\t\\tint x = texelIndex - y * morphTargetsTextureSize.x;\\n\\t\\t\\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\\n\\t\\t\\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\\n\\t\\t}\\n\\t#else\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t\\t#else\\n\\t\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\t\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\t\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\t\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = dFdx( vViewPosition );\\n\\tvec3 fdy = dFdy( vViewPosition );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normal_pars_fragment = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_pars_vertex = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_vertex = \"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar iridescence_pars_fragment = \"#ifdef USE_IRIDESCENCEMAP\\n\\tuniform sampler2D iridescenceMap;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tuniform sampler2D iridescenceThicknessMap;\\n#endif\";\n\nvar output_fragment = \"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec2 packDepthToRG( in highp float v ) {\\n\\treturn packDepthToRGBA( v ).yx;\\n}\\nfloat unpackRGToDepth( const in highp vec2 v ) {\\n\\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#if NUM_SPOT_LIGHT_COORDS > 0\\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\\n#endif\\n#if NUM_SPOT_LIGHT_MAPS > 0\\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\\n#endif\\n#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#if NUM_SPOT_LIGHT_COORDS > 0\\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\\n#endif\\n#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_COORDS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition;\\n\\t\\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\t\\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\\n\\t\\t#endif\\n\\t\\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\tuniform highp sampler2D boneTexture;\\n\\tuniform int boneTextureSize;\\n\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\tfloat j = i * 4.0;\\n\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\ty = dy * ( y + 0.5 );\\n\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\treturn bone;\\n\\t}\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tmaterial.transmission = transmission;\\n\\tmaterial.transmissionAlpha = 1.0;\\n\\tmaterial.thickness = thickness;\\n\\tmaterial.attenuationDistance = attenuationDistance;\\n\\tmaterial.attenuationColor = attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\\n\\t\\tmaterial.attenuationColor, material.attenuationDistance );\\n\\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\\n#endif\";\n\nvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\\n\\t\\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\t#ifdef texture2DLodEXT\\n\\t\\t\\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tif ( isinf( attenuationDistance ) ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\\n\\t\\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\\n\\t\\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\\n\\t\\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nconst vertex$h = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nconst fragment$h = \"uniform sampler2D t2D;\\nuniform float backgroundIntensity;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\\n\\t#endif\\n\\ttexColor.rgb *= backgroundIntensity;\\n\\tgl_FragColor = texColor;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$g = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nconst fragment$g = \"#ifdef ENVMAP_TYPE_CUBE\\n\\tuniform samplerCube envMap;\\n#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\tuniform sampler2D envMap;\\n#endif\\nuniform float flipEnvMap;\\nuniform float backgroundBlurriness;\\nuniform float backgroundIntensity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\\n\\t#else\\n\\t\\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t#endif\\n\\ttexColor.rgb *= backgroundIntensity;\\n\\tgl_FragColor = texColor;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$f = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nconst fragment$f = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = texColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$e = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nconst fragment$e = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nconst vertex$d = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nconst fragment$d = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nconst vertex$c = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nconst fragment$c = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$b = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$b = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$a = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$a = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$9 = \"#define LAMBERT\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$9 = \"#define LAMBERT\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_lambert_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_lambert_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$8 = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nconst fragment$8 = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$7 = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$7 = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n\\t#ifdef OPAQUE\\n\\t\\tgl_FragColor.a = 1.0;\\n\\t#endif\\n}\";\n\nconst vertex$6 = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$6 = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$5 = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$5 = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularColor;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\tuniform sampler2D specularColorMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tuniform float iridescence;\\n\\tuniform float iridescenceIOR;\\n\\tuniform float iridescenceThicknessMinimum;\\n\\tuniform float iridescenceThicknessMaximum;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenColor;\\n\\tuniform float sheenRoughness;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tuniform sampler2D sheenColorMap;\\n\\t#endif\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tuniform sampler2D sheenRoughnessMap;\\n\\t#endif\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <iridescence_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <iridescence_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_SHEEN\\n\\t\\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\\n\\t\\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$4 = \"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$4 = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$3 = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$3 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$2 = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$2 = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst vertex$1 = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$1 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\talphatest_pars_fragment: alphatest_pars_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tiridescence_fragment: iridescence_fragment,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_fragment: lights_lambert_fragment,\n\tlights_lambert_pars_fragment: lights_lambert_pars_fragment,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphcolor_vertex: morphcolor_vertex,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormal_pars_fragment: normal_pars_fragment,\n\tnormal_pars_vertex: normal_pars_vertex,\n\tnormal_vertex: normal_vertex,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tiridescence_pars_fragment: iridescence_pars_fragment,\n\toutput_fragment: output_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmission_fragment: transmission_fragment,\n\ttransmission_pars_fragment: transmission_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_vert: vertex$h,\n\tbackground_frag: fragment$h,\n\tbackgroundCube_vert: vertex$g,\n\tbackgroundCube_frag: fragment$g,\n\tcube_vert: vertex$f,\n\tcube_frag: fragment$f,\n\tdepth_vert: vertex$e,\n\tdepth_frag: fragment$e,\n\tdistanceRGBA_vert: vertex$d,\n\tdistanceRGBA_frag: fragment$d,\n\tequirect_vert: vertex$c,\n\tequirect_frag: fragment$c,\n\tlinedashed_vert: vertex$b,\n\tlinedashed_frag: fragment$b,\n\tmeshbasic_vert: vertex$a,\n\tmeshbasic_frag: fragment$a,\n\tmeshlambert_vert: vertex$9,\n\tmeshlambert_frag: fragment$9,\n\tmeshmatcap_vert: vertex$8,\n\tmeshmatcap_frag: fragment$8,\n\tmeshnormal_vert: vertex$7,\n\tmeshnormal_frag: fragment$7,\n\tmeshphong_vert: vertex$6,\n\tmeshphong_frag: fragment$6,\n\tmeshphysical_vert: vertex$5,\n\tmeshphysical_frag: fragment$5,\n\tmeshtoon_vert: vertex$4,\n\tmeshtoon_frag: fragment$4,\n\tpoints_vert: vertex$3,\n\tpoints_frag: fragment$3,\n\tshadow_vert: vertex$2,\n\tshadow_frag: fragment$2,\n\tsprite_vert: vertex$1,\n\tsprite_frag: fragment$1\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\tuv2Transform: { value: /*@__PURE__*/ new Matrix3() },\n\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 }\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 }, // basic, lambert, phong\n\t\tior: { value: 1.5 }, // physical\n\t\trefractionRatio: { value: 0.98 }, // basic, lambert, phong\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: /*@__PURE__*/ new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotLightMap: { value: [] },\n\t\tspotShadowMap: { value: [] },\n\t\tspotLightMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: /*@__PURE__*/ new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: /*@__PURE__*/ new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshnormal_vert,\n\t\tfragmentShader: ShaderChunk.meshnormal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t\tbackgroundIntensity: { value: 1 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\n\tbackgroundCube: {\n\n\t\tuniforms: {\n\t\t\tenvMap: { value: null },\n\t\t\tflipEnvMap: { value: - 1 },\n\t\t\tbackgroundBlurriness: { value: 0 },\n\t\t\tbackgroundIntensity: { value: 1 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.backgroundCube_vert,\n\t\tfragmentShader: ShaderChunk.backgroundCube_frag\n\n\t},\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: /*@__PURE__*/ new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: /*@__PURE__*/ new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tiridescence: { value: 0 },\n\t\t\tiridescenceMap: { value: null },\n\t\t\tiridescenceIOR: { value: 1.3 },\n\t\t\tiridescenceThicknessMinimum: { value: 100 },\n\t\t\tiridescenceThicknessMaximum: { value: 400 },\n\t\t\tiridescenceThicknessMap: { value: null },\n\t\t\tsheen: { value: 0 },\n\t\t\tsheenColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tsheenColorMap: { value: null },\n\t\t\tsheenRoughness: { value: 1 },\n\t\t\tsheenRoughnessMap: { value: null },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t\ttransmissionSamplerSize: { value: /*@__PURE__*/ new Vector2() },\n\t\t\ttransmissionSamplerMap: { value: null },\n\t\t\tthickness: { value: 0 },\n\t\t\tthicknessMap: { value: null },\n\t\t\tattenuationDistance: { value: 0 },\n\t\t\tattenuationColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tspecularIntensity: { value: 1 },\n\t\t\tspecularIntensityMap: { value: null },\n\t\t\tspecularColor: { value: /*@__PURE__*/ new Color( 1, 1, 1 ) },\n\t\t\tspecularColorMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nconst _rgb = { r: 0, b: 0, g: 0 };\n\nfunction WebGLBackground( renderer, cubemaps, cubeuvmaps, state, objects, alpha, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = alpha === true ? 0 : 1;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene ) {\n\n\t\tlet forceClear = false;\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tconst usePMREM = scene.backgroundBlurriness > 0; // use PMREM if the user wants to blur the background\n\t\t\tbackground = ( usePMREM ? cubeuvmaps : cubemaps ).get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.backgroundCube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.backgroundCube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.backgroundCube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// add \"envMap\" material property so the renderer can evaluate it like for built-in materials\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background.isRenderTargetTexture === false ) ? - 1 : 1;\n\t\t\tboxMesh.material.uniforms.backgroundBlurriness.value = scene.backgroundBlurriness;\n\t\t\tboxMesh.material.uniforms.backgroundIntensity.value = scene.backgroundIntensity;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tboxMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// add \"map\" material property so the renderer can evaluate it like for built-in materials\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\t\t\tplaneMesh.material.uniforms.backgroundIntensity.value = scene.backgroundIntensity;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tplaneMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tcolor.getRGB( _rgb, getUnlitUniformColorSpace( renderer ) );\n\n\t\tstate.buffers.color.setClear( _rgb.r, _rgb.g, _rgb.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\tlet forceUpdate = false;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( object, geometry, program, index );\n\n\t\t\tif ( updateBuffers ) saveCache( object, geometry, program, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers || forceUpdate ) {\n\n\t\t\tforceUpdate = false;\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( object, geometry, program, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tconst cachedAttribute = cachedAttributes[ name ];\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\t\tif ( geometryAttribute && cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( object, geometry, program, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet attribute = attributes[ name ];\n\n\t\t\t\tif ( attribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) attribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) attribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tconst data = {};\n\t\t\t\tdata.attribute = attribute;\n\n\t\t\t\tif ( attribute && attribute.data ) {\n\n\t\t\t\t\tdata.data = attribute.data;\n\n\t\t\t\t}\n\n\t\t\t\tcache[ name ] = data;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, data.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tstride * bytesPerElement,\n\t\t\t\t\t\t\t\t( offset + ( size / programAttribute.locationSize ) * i ) * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tsize * bytesPerElement,\n\t\t\t\t\t\t\t\t( size / programAttribute.locationSize ) * i * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute.location, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\t\tforceUpdate = true;\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatibility\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst drawBuffers = isWebGL2 || extensions.has( 'WEBGL_draw_buffers' );\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tdrawBuffers: drawBuffers,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isOrthographicCamera = true;\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._lodMax = 0;\n\t\tthis._cubeSize = 0;\n\t\tthis._lodPlanes = [];\n\t\tthis._sizeLods = [];\n\t\tthis._sigmas = [];\n\n\t\tthis._blurMaterial = null;\n\t\tthis._cubemapMaterial = null;\n\t\tthis._equirectMaterial = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tthis._setSize( 256 );\n\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\t\tcubeUVRenderTarget.depthBuffer = true;\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * or HDR. The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular, renderTarget = null ) {\n\n\t\treturn this._fromTexture( equirectangular, renderTarget );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * or HDR. The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap, renderTarget = null ) {\n\n\t\treturn this._fromTexture( cubemap, renderTarget );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\t\t\tthis._compileMaterial( this._cubemapMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\t\t\tthis._compileMaterial( this._equirectMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._dispose();\n\n\t\tif ( this._cubemapMaterial !== null ) this._cubemapMaterial.dispose();\n\t\tif ( this._equirectMaterial !== null ) this._equirectMaterial.dispose();\n\n\t}\n\n\t// private interface\n\n\t_setSize( cubeSize ) {\n\n\t\tthis._lodMax = Math.floor( Math.log2( cubeSize ) );\n\t\tthis._cubeSize = Math.pow( 2, this._lodMax );\n\n\t}\n\n\t_dispose() {\n\n\t\tif ( this._blurMaterial !== null ) this._blurMaterial.dispose();\n\n\t\tif ( this._pingPongRenderTarget !== null ) this._pingPongRenderTarget.dispose();\n\n\t\tfor ( let i = 0; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tthis._lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture, renderTarget ) {\n\n\t\tif ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping ) {\n\n\t\t\tthis._setSize( texture.image.length === 0 ? 16 : ( texture.image[ 0 ].width || texture.image[ 0 ].image.width ) );\n\n\t\t} else { // Equirectangular\n\n\t\t\tthis._setSize( texture.image.width / 4 );\n\n\t\t}\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tconst cubeUVRenderTarget = renderTarget || this._allocateTargets();\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets() {\n\n\t\tconst width = 3 * Math.max( this._cubeSize, 16 * 7 );\n\t\tconst height = 4 * this._cubeSize;\n\n\t\tconst params = {\n\t\t\tmagFilter: LinearFilter,\n\t\t\tminFilter: LinearFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: HalfFloatType,\n\t\t\tformat: RGBAFormat,\n\t\t\tencoding: LinearEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( width, height, params );\n\n\t\tif ( this._pingPongRenderTarget === null || this._pingPongRenderTarget.width !== width ) {\n\n\t\t\tif ( this._pingPongRenderTarget !== null ) {\n\n\t\t\t\tthis._dispose();\n\n\t\t\t}\n\n\t\t\tthis._pingPongRenderTarget = _createRenderTarget( width, height, params );\n\n\t\t\tconst { _lodMax } = this;\n\t\t\t( { sizeLods: this._sizeLods, lodPlanes: this._lodPlanes, sigmas: this._sigmas } = _createPlanes( _lodMax ) );\n\n\t\t\tthis._blurMaterial = _getBlurShader( _lodMax, width, height );\n\n\t\t}\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( this._lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.autoClear = false;\n\n\t\tconst backgroundMaterial = new MeshBasicMaterial( {\n\t\t\tname: 'PMREM.Background',\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false,\n\t\t\tdepthTest: false,\n\t\t} );\n\n\t\tconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background );\n\t\t\t\tscene.background = null;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor );\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\n\t\t\tif ( col === 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col === 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\tconst size = this._cubeSize;\n\n\t\t\t_setViewport( cubeUVRenderTarget, col * size, i > 2 ? size : 0, size, size );\n\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\tbackgroundBox.geometry.dispose();\n\t\tbackgroundBox.material.dispose();\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.autoClear = originalAutoClear;\n\t\tscene.background = background;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tconst isCubeTexture = ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping );\n\n\t\tif ( isCubeTexture ) {\n\n\t\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\n\t\t\t}\n\n\t\t\tthis._cubemapMaterial.uniforms.flipEnvMap.value = ( texture.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t} else {\n\n\t\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = isCubeTexture ? this._cubemapMaterial : this._equirectMaterial;\n\t\tconst mesh = new Mesh( this._lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tconst size = this._cubeSize;\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * size, 2 * size );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( this._sigmas[ i ] * this._sigmas[ i ] - this._sigmas[ i - 1 ] * this._sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( this._lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = this._sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tconst { _lodMax } = this;\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = _lodMax - lodIn;\n\n\t\tconst outputSize = this._sizeLods[ lodOut ];\n\t\tconst x = 3 * outputSize * ( lodOut > _lodMax - LOD_MIN ? lodOut - _lodMax + LOD_MIN : 0 );\n\t\tconst y = 4 * ( this._cubeSize - outputSize );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\n\n\nfunction _createPlanes( lodMax ) {\n\n\tconst lodPlanes = [];\n\tconst sizeLods = [];\n\tconst sigmas = [];\n\n\tlet lod = lodMax;\n\n\tconst totalLods = lodMax - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n\tfor ( let i = 0; i < totalLods; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\tsizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > lodMax - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - lodMax + LOD_MIN - 1 ];\n\n\t\t} else if ( i === 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\tsigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 2 );\n\t\tconst min = - texelSize;\n\t\tconst max = 1 + texelSize;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\tlodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { lodPlanes, sizeLods, sigmas };\n\n}\n\nfunction _createRenderTarget( width, height, params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( width, height, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( lodMax, width, height ) {\n\n\tconst weights = new Float32Array( MAX_SAMPLES );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new ShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: {\n\t\t\t'n': MAX_SAMPLES,\n\t\t\t'CUBEUV_TEXEL_WIDTH': 1.0 / width,\n\t\t\t'CUBEUV_TEXEL_HEIGHT': 1.0 / height,\n\t\t\t'CUBEUV_MAX_MIP': `${lodMax}.0`,\n\t\t},\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCubemapMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'flipEnvMap': { value: - 1 }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction WebGLCubeUVMaps( renderer ) {\n\n\tlet cubeUVmaps = new WeakMap();\n\n\tlet pmremGenerator = null;\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tconst isEquirectMap = ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping );\n\t\t\tconst isCubeMap = ( mapping === CubeReflectionMapping || mapping === CubeRefractionMapping );\n\n\t\t\t// equirect/cube map to cubeUV conversion\n\n\t\t\tif ( isEquirectMap || isCubeMap ) {\n\n\t\t\t\tif ( texture.isRenderTargetTexture && texture.needsPMREMUpdate === true ) {\n\n\t\t\t\t\ttexture.needsPMREMUpdate = false;\n\n\t\t\t\t\tlet renderTarget = cubeUVmaps.get( texture );\n\n\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\trenderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture, renderTarget ) : pmremGenerator.fromCubemap( texture, renderTarget );\n\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cubeUVmaps.has( texture ) ) {\n\n\t\t\t\t\t\treturn cubeUVmaps.get( texture ).texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\tif ( ( isEquirectMap && image && image.height > 0 ) || ( isCubeMap && image && isCubeTextureComplete( image ) ) ) {\n\n\t\t\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture ) : pmremGenerator.fromCubemap( texture );\n\t\t\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction isCubeTextureComplete( image ) {\n\n\t\tlet count = 0;\n\t\tconst length = 6;\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tif ( image[ i ] !== undefined ) count ++;\n\n\t\t}\n\n\t\treturn count === length;\n\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemapUV = cubeUVmaps.get( texture );\n\n\t\tif ( cubemapUV !== undefined ) {\n\n\t\t\tcubeUVmaps.delete( texture );\n\t\t\tcubemapUV.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubeUVmaps = new WeakMap();\n\n\t\tif ( pmremGenerator !== null ) {\n\n\t\t\tpmremGenerator.dispose();\n\t\t\tpmremGenerator = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\t\t\tgetExtension( 'WEBGL_multisampled_render_to_texture' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayNeedsUint32( indices ) ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl, capabilities, textures ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\tconst morphTextures = new WeakMap();\n\tconst morph = new Vector4();\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\tif ( capabilities.isWebGL2 === true ) {\n\n\t\t\t// instead of using attributes, the WebGL 2 code path encodes morph targets\n\t\t\t// into an array of data textures. Each layer represents a single morph target.\n\n\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\t\tlet entry = morphTextures.get( geometry );\n\n\t\t\tif ( entry === undefined || entry.count !== morphTargetsCount ) {\n\n\t\t\t\tif ( entry !== undefined ) entry.texture.dispose();\n\n\t\t\t\tconst hasMorphPosition = geometry.morphAttributes.position !== undefined;\n\t\t\t\tconst hasMorphNormals = geometry.morphAttributes.normal !== undefined;\n\t\t\t\tconst hasMorphColors = geometry.morphAttributes.color !== undefined;\n\n\t\t\t\tconst morphTargets = geometry.morphAttributes.position || [];\n\t\t\t\tconst morphNormals = geometry.morphAttributes.normal || [];\n\t\t\t\tconst morphColors = geometry.morphAttributes.color || [];\n\n\t\t\t\tlet vertexDataCount = 0;\n\n\t\t\t\tif ( hasMorphPosition === true ) vertexDataCount = 1;\n\t\t\t\tif ( hasMorphNormals === true ) vertexDataCount = 2;\n\t\t\t\tif ( hasMorphColors === true ) vertexDataCount = 3;\n\n\t\t\t\tlet width = geometry.attributes.position.count * vertexDataCount;\n\t\t\t\tlet height = 1;\n\n\t\t\t\tif ( width > capabilities.maxTextureSize ) {\n\n\t\t\t\t\theight = Math.ceil( width / capabilities.maxTextureSize );\n\t\t\t\t\twidth = capabilities.maxTextureSize;\n\n\t\t\t\t}\n\n\t\t\t\tconst buffer = new Float32Array( width * height * 4 * morphTargetsCount );\n\n\t\t\t\tconst texture = new DataArrayTexture( buffer, width, height, morphTargetsCount );\n\t\t\t\ttexture.type = FloatType;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t// fill buffer\n\n\t\t\t\tconst vertexDataStride = vertexDataCount * 4;\n\n\t\t\t\tfor ( let i = 0; i < morphTargetsCount; i ++ ) {\n\n\t\t\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\t\t\tconst morphNormal = morphNormals[ i ];\n\t\t\t\t\tconst morphColor = morphColors[ i ];\n\n\t\t\t\t\tconst offset = width * height * 4 * i;\n\n\t\t\t\t\tfor ( let j = 0; j < morphTarget.count; j ++ ) {\n\n\t\t\t\t\t\tconst stride = j * vertexDataStride;\n\n\t\t\t\t\t\tif ( hasMorphPosition === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphTarget, j );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 0 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 1 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 2 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 3 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphNormals === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphNormal, j );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 4 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 5 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 6 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 7 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphColors === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphColor, j );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 8 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 9 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 10 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 11 ] = ( morphColor.itemSize === 4 ) ? morph.w : 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tentry = {\n\t\t\t\t\tcount: morphTargetsCount,\n\t\t\t\t\ttexture: texture,\n\t\t\t\t\tsize: new Vector2( width, height )\n\t\t\t\t};\n\n\t\t\t\tmorphTextures.set( geometry, entry );\n\n\t\t\t\tfunction disposeTexture() {\n\n\t\t\t\t\ttexture.dispose();\n\n\t\t\t\t\tmorphTextures.delete( geometry );\n\n\t\t\t\t\tgeometry.removeEventListener( 'dispose', disposeTexture );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addEventListener( 'dispose', disposeTexture );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < objectInfluences.length; i ++ ) {\n\n\t\t\t\tmorphInfluencesSum += objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', objectInfluences );\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTexture', entry.texture, textures );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTextureSize', entry.size );\n\n\n\t\t} else {\n\n\t\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\t\tlet influences = influencesList[ geometry.id ];\n\n\t\t\tif ( influences === undefined || influences.length !== length ) {\n\n\t\t\t\t// initialise list\n\n\t\t\t\tinfluences = [];\n\n\t\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t\t}\n\n\t\t\t// Collect influences\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tconst influence = influences[ i ];\n\n\t\t\t\tinfluence[ 0 ] = i;\n\t\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tinfluences.sort( absNumericalSort );\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tworkInfluences.sort( numericalSort );\n\n\t\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\t\tconst morphNormals = geometry.morphAttributes.normal;\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tconst influence = workInfluences[ i ];\n\t\t\t\tconst index = influence[ 0 ];\n\t\t\t\tconst value = influence[ 1 ];\n\n\t\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = /*@__PURE__*/ new Texture();\nconst emptyArrayTexture = /*@__PURE__*/ new DataArrayTexture();\nconst empty3dTexture = /*@__PURE__*/ new Data3DTexture();\nconst emptyCubeTexture = /*@__PURE__*/ new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array or THREE.VectorN)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2i( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2iv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3i( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3iv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4i( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4iv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array or THREE.VectorN)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2ui( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2uiv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3ui( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3uiv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4ui( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4uiv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || empty3dTexture, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyArrayTexture, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / 3D / Cube / 2DArray)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT3DArray( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture3D( v[ i ] || empty3dTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT2DArrayArray( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tif ( ! arraysEqual( cache, units ) ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2DArray( v[ i ] || emptyArrayTexture, units[ i ] );\n\n\t}\n\n}\n\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3DArray;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArrayArray;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nclass SingleUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass PureArrayUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.size = activeInfo.size;\n\t\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass StructuredUniform {\n\n\tconstructor( id ) {\n\n\t\tthis.id = id;\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t}\n\n\tsetValue( gl, value, textures ) {\n\n\t\tconst seq = this.seq;\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t\t}\n\n\t}\n\n}\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nclass WebGLUniforms {\n\n\tconstructor( gl, program ) {\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t\tconst n = gl.getProgramParameter( program, 35718 );\n\n\t\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\t\tparseUniform( info, addr, this );\n\n\t\t}\n\n\t}\n\n\tsetValue( gl, name, value, textures ) {\n\n\t\tconst u = this.map[ name ];\n\n\t\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n\t}\n\n\tsetOptional( gl, object, name ) {\n\n\t\tconst v = object[ name ];\n\n\t\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n\t}\n\n\tstatic upload( gl, seq, values, textures ) {\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ],\n\t\t\t\tv = values[ u.id ];\n\n\t\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tstatic seqWithValue( seq, values ) {\n\n\t\tconst r = [];\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tif ( u.id in values ) r.push( u );\n\n\t\t}\n\n\t\treturn r;\n\n\t}\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction handleSource( string, errorLine ) {\n\n\tconst lines = string.split( '\\n' );\n\tconst lines2 = [];\n\n\tconst from = Math.max( errorLine - 6, 0 );\n\tconst to = Math.min( errorLine + 6, lines.length );\n\n\tfor ( let i = from; i < to; i ++ ) {\n\n\t\tconst line = i + 1;\n\t\tlines2.push( `${line === errorLine ? '>' : ' '} ${line}: ${lines[ i ]}` );\n\n\t}\n\n\treturn lines2.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst errors = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && errors === '' ) return '';\n\n\tconst errorMatches = /ERROR: 0:(\\d+)/.exec( errors );\n\tif ( errorMatches ) {\n\n\t\t// --enable-privileged-webgl-extension\n\t\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\t\tconst errorLine = parseInt( errorMatches[ 1 ] );\n\t\treturn type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + handleSource( gl.getShaderSource( shader ), errorLine );\n\n\t} else {\n\n\t\treturn errors;\n\n\t}\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || !! parameters.envMapCubeUVHeight || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\tlet locationSize = 1;\n\t\tif ( info.type === 35674 ) locationSize = 2;\n\t\tif ( info.type === 35675 ) locationSize = 3;\n\t\tif ( info.type === 35676 ) locationSize = 4;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = {\n\t\t\ttype: info.type,\n\t\t\tlocation: gl.getAttribLocation( program, name ),\n\t\t\tlocationSize: locationSize\n\t\t};\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\tconst numSpotLightCoords = parameters.numSpotLightShadows + parameters.numSpotLightMaps - parameters.numSpotLightShadowsWithMaps;\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_SPOT_LIGHT_MAPS/g, parameters.numSpotLightMaps )\n\t\t.replace( /NUM_SPOT_LIGHT_COORDS/g, numSpotLightCoords )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g, parameters.numSpotLightShadowsWithMaps )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string.replace( unrollLoopPattern, loopReplacer );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction generateCubeUVSize( parameters ) {\n\n\tconst imageHeight = parameters.envMapCubeUVHeight;\n\n\tif ( imageHeight === null ) return null;\n\n\tconst maxMip = Math.log2( imageHeight ) - 2;\n\n\tconst texelHeight = 1.0 / imageHeight;\n\n\tconst texelWidth = 1.0 / ( 3 * Math.max( Math.pow( 2, maxMip ), 7 * 16 ) );\n\n\treturn { texelWidth, texelHeight, maxMip };\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\t// TODO Send this event to Three.js DevTools\n\t// console.log( 'WebGLProgram', cacheKey );\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\tconst envMapCubeUVSize = generateCubeUVSize( parameters );\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '',\n\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\t( parameters.morphColors && parameters.isWebGL2 ) ? '#define USE_MORPHCOLORS' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE_STRIDE ' + parameters.morphTextureStride : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_COUNT ' + parameters.morphTargetsCount : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_WIDTH ' + envMapCubeUVSize.texelWidth : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_HEIGHT ' + envMapCubeUVSize.texelHeight : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_MAX_MIP ' + envMapCubeUVSize.maxMip + '.0' : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoat ? '#define USE_CLEARCOAT' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescence ? '#define USE_IRIDESCENCE' : '',\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.alphaTest ? '#define USE_ALPHATEST' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.decodeVideoTexture ? '#define DECODE_VIDEO_TEXTURE' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\t\t\tparameters.opaque ? '#define OPAQUE' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.useDepthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'precision mediump sampler2DArray;',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error(\n\t\t\t\t'THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' +\n\t\t\t\t'VALIDATE_STATUS ' + gl.getProgramParameter( program, 35715 ) + '\\n\\n' +\n\t\t\t\t'Program Info Log: ' + programLog + '\\n' +\n\t\t\t\tvertexErrors + '\\n' +\n\t\t\t\tfragmentErrors\n\t\t\t);\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Program Info Log:', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nlet _id = 0;\n\nclass WebGLShaderCache {\n\n\tconstructor() {\n\n\t\tthis.shaderCache = new Map();\n\t\tthis.materialCache = new Map();\n\n\t}\n\n\tupdate( material ) {\n\n\t\tconst vertexShader = material.vertexShader;\n\t\tconst fragmentShader = material.fragmentShader;\n\n\t\tconst vertexShaderStage = this._getShaderStage( vertexShader );\n\t\tconst fragmentShaderStage = this._getShaderStage( fragmentShader );\n\n\t\tconst materialShaders = this._getShaderCacheForMaterial( material );\n\n\t\tif ( materialShaders.has( vertexShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( vertexShaderStage );\n\t\t\tvertexShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\tif ( materialShaders.has( fragmentShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( fragmentShaderStage );\n\t\t\tfragmentShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( material ) {\n\n\t\tconst materialShaders = this.materialCache.get( material );\n\n\t\tfor ( const shaderStage of materialShaders ) {\n\n\t\t\tshaderStage.usedTimes --;\n\n\t\t\tif ( shaderStage.usedTimes === 0 ) this.shaderCache.delete( shaderStage.code );\n\n\t\t}\n\n\t\tthis.materialCache.delete( material );\n\n\t\treturn this;\n\n\t}\n\n\tgetVertexShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.vertexShader ).id;\n\n\t}\n\n\tgetFragmentShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.fragmentShader ).id;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shaderCache.clear();\n\t\tthis.materialCache.clear();\n\n\t}\n\n\t_getShaderCacheForMaterial( material ) {\n\n\t\tconst cache = this.materialCache;\n\t\tlet set = cache.get( material );\n\n\t\tif ( set === undefined ) {\n\n\t\t\tset = new Set();\n\t\t\tcache.set( material, set );\n\n\t\t}\n\n\t\treturn set;\n\n\t}\n\n\t_getShaderStage( code ) {\n\n\t\tconst cache = this.shaderCache;\n\t\tlet stage = cache.get( code );\n\n\t\tif ( stage === undefined ) {\n\n\t\t\tstage = new WebGLShaderStage( code );\n\t\t\tcache.set( code, stage );\n\n\t\t}\n\n\t\treturn stage;\n\n\t}\n\n}\n\nclass WebGLShaderStage {\n\n\tconstructor( code ) {\n\n\t\tthis.id = _id ++;\n\n\t\tthis.code = code;\n\t\tthis.usedTimes = 0;\n\n\t}\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst _programLayers = new Layers();\n\tconst _customShaders = new WebGLShaderCache();\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst vertexTextures = capabilities.vertexTextures;\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst geometry = object.geometry;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst envMapCubeUVHeight = ( !! envMap ) && ( envMap.mapping === CubeUVReflectionMapping ) ? envMap.image.height : null;\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\tlet morphTextureStride = 0;\n\n\t\tif ( geometry.morphAttributes.position !== undefined ) morphTextureStride = 1;\n\t\tif ( geometry.morphAttributes.normal !== undefined ) morphTextureStride = 2;\n\t\tif ( geometry.morphAttributes.color !== undefined ) morphTextureStride = 3;\n\n\t\t//\n\n\t\tlet vertexShader, fragmentShader;\n\t\tlet customVertexShaderID, customFragmentShaderID;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t\t_customShaders.update( material );\n\n\t\t\tcustomVertexShaderID = _customShaders.getVertexShaderID( material );\n\t\t\tcustomFragmentShaderID = _customShaders.getFragmentShaderID( material );\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst useAlphaTest = material.alphaTest > 0;\n\t\tconst useClearcoat = material.clearcoat > 0;\n\t\tconst useIridescence = material.iridescence > 0;\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tcustomVertexShaderID: customVertexShaderID,\n\t\t\tcustomFragmentShaderID: customFragmentShaderID,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget === null ) ? renderer.outputEncoding : ( currentRenderTarget.isXRRenderTarget === true ? currentRenderTarget.texture.encoding : LinearEncoding ),\n\t\t\tmap: !! material.map,\n\t\t\tmatcap: !! material.matcap,\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapCubeUVHeight: envMapCubeUVHeight,\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\n\t\t\tdecodeVideoTexture: !! material.map && ( material.map.isVideoTexture === true ) && ( material.map.encoding === sRGBEncoding ),\n\n\t\t\tclearcoat: useClearcoat,\n\t\t\tclearcoatMap: useClearcoat && !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: useClearcoat && !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: useClearcoat && !! material.clearcoatNormalMap,\n\n\t\t\tiridescence: useIridescence,\n\t\t\tiridescenceMap: useIridescence && !! material.iridescenceMap,\n\t\t\tiridescenceThicknessMap: useIridescence && !! material.iridescenceThicknessMap,\n\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\tspecularIntensityMap: !! material.specularIntensityMap,\n\t\t\tspecularColorMap: !! material.specularColorMap,\n\n\t\t\topaque: material.transparent === false && material.blending === NormalBlending,\n\n\t\t\talphaMap: !! material.alphaMap,\n\t\t\talphaTest: useAlphaTest,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: material.sheen > 0,\n\t\t\tsheenColorMap: !! material.sheenColorMap,\n\t\t\tsheenRoughnessMap: !! material.sheenRoughnessMap,\n\n\t\t\ttransmission: material.transmission > 0,\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\t\t\tthicknessMap: !! material.thicknessMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( !! material.normalMap && !! geometry.attributes.tangent ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.iridescenceMap || !! material.iridescenceThicknessMap || !! material.displacementMap || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularColorMap || !! material.sheenColorMap || !! material.sheenRoughnessMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.iridescenceMap || !! material.iridescenceThicknessMap || material.transmission > 0 || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularColorMap || material.sheen > 0 || !! material.sheenColorMap || !! material.sheenRoughnessMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog === true,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: object.isSkinnedMesh === true,\n\n\t\t\tmorphTargets: geometry.morphAttributes.position !== undefined,\n\t\t\tmorphNormals: geometry.morphAttributes.normal !== undefined,\n\t\t\tmorphColors: geometry.morphAttributes.color !== undefined,\n\t\t\tmorphTargetsCount: morphTargetsCount,\n\t\t\tmorphTextureStride: morphTextureStride,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumSpotLightMaps: lights.spotLightMap.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\t\t\tnumSpotLightShadowsWithMaps: lights.numSpotLightShadowsWithMaps,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tuseDepthPacking: !! material.depthPacking,\n\t\t\tdepthPacking: material.depthPacking || 0,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.customVertexShaderID );\n\t\t\tarray.push( parameters.customFragmentShaderID );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tgetProgramCacheKeyParameters( array, parameters );\n\t\t\tgetProgramCacheKeyBooleans( array, parameters );\n\t\t\tarray.push( renderer.outputEncoding );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getProgramCacheKeyParameters( array, parameters ) {\n\n\t\tarray.push( parameters.precision );\n\t\tarray.push( parameters.outputEncoding );\n\t\tarray.push( parameters.envMapMode );\n\t\tarray.push( parameters.envMapCubeUVHeight );\n\t\tarray.push( parameters.combine );\n\t\tarray.push( parameters.vertexUvs );\n\t\tarray.push( parameters.fogExp2 );\n\t\tarray.push( parameters.sizeAttenuation );\n\t\tarray.push( parameters.morphTargetsCount );\n\t\tarray.push( parameters.morphAttributeCount );\n\t\tarray.push( parameters.numDirLights );\n\t\tarray.push( parameters.numPointLights );\n\t\tarray.push( parameters.numSpotLights );\n\t\tarray.push( parameters.numSpotLightMaps );\n\t\tarray.push( parameters.numHemiLights );\n\t\tarray.push( parameters.numRectAreaLights );\n\t\tarray.push( parameters.numDirLightShadows );\n\t\tarray.push( parameters.numPointLightShadows );\n\t\tarray.push( parameters.numSpotLightShadows );\n\t\tarray.push( parameters.numSpotLightShadowsWithMaps );\n\t\tarray.push( parameters.shadowMapType );\n\t\tarray.push( parameters.toneMapping );\n\t\tarray.push( parameters.numClippingPlanes );\n\t\tarray.push( parameters.numClipIntersection );\n\t\tarray.push( parameters.depthPacking );\n\n\t}\n\n\tfunction getProgramCacheKeyBooleans( array, parameters ) {\n\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.isWebGL2 )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.supportsVertexTextures )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.instancing )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.instancingColor )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.map )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.matcap )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.envMap )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.lightMap )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.aoMap )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.emissiveMap )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.bumpMap )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.normalMap )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.objectSpaceNormalMap )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.tangentSpaceNormalMap )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.clearcoat )\n\t\t\t_programLayers.enable( 14 );\n\t\tif ( parameters.clearcoatMap )\n\t\t\t_programLayers.enable( 15 );\n\t\tif ( parameters.clearcoatRoughnessMap )\n\t\t\t_programLayers.enable( 16 );\n\t\tif ( parameters.clearcoatNormalMap )\n\t\t\t_programLayers.enable( 17 );\n\t\tif ( parameters.iridescence )\n\t\t\t_programLayers.enable( 18 );\n\t\tif ( parameters.iridescenceMap )\n\t\t\t_programLayers.enable( 19 );\n\t\tif ( parameters.iridescenceThicknessMap )\n\t\t\t_programLayers.enable( 20 );\n\t\tif ( parameters.displacementMap )\n\t\t\t_programLayers.enable( 21 );\n\t\tif ( parameters.specularMap )\n\t\t\t_programLayers.enable( 22 );\n\t\tif ( parameters.roughnessMap )\n\t\t\t_programLayers.enable( 23 );\n\t\tif ( parameters.metalnessMap )\n\t\t\t_programLayers.enable( 24 );\n\t\tif ( parameters.gradientMap )\n\t\t\t_programLayers.enable( 25 );\n\t\tif ( parameters.alphaMap )\n\t\t\t_programLayers.enable( 26 );\n\t\tif ( parameters.alphaTest )\n\t\t\t_programLayers.enable( 27 );\n\t\tif ( parameters.vertexColors )\n\t\t\t_programLayers.enable( 28 );\n\t\tif ( parameters.vertexAlphas )\n\t\t\t_programLayers.enable( 29 );\n\t\tif ( parameters.vertexUvs )\n\t\t\t_programLayers.enable( 30 );\n\t\tif ( parameters.vertexTangents )\n\t\t\t_programLayers.enable( 31 );\n\t\tif ( parameters.uvsVertexOnly )\n\t\t\t_programLayers.enable( 32 );\n\n\t\tarray.push( _programLayers.mask );\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.fog )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.useFog )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.flatShading )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.logarithmicDepthBuffer )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.skinning )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.morphTargets )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.morphNormals )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.morphColors )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.premultipliedAlpha )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.shadowMapEnabled )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.physicallyCorrectLights )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.doubleSided )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.flipSided )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.useDepthPacking )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.dithering )\n\t\t\t_programLayers.enable( 14 );\n\t\tif ( parameters.specularIntensityMap )\n\t\t\t_programLayers.enable( 15 );\n\t\tif ( parameters.specularColorMap )\n\t\t\t_programLayers.enable( 16 );\n\t\tif ( parameters.transmission )\n\t\t\t_programLayers.enable( 17 );\n\t\tif ( parameters.transmissionMap )\n\t\t\t_programLayers.enable( 18 );\n\t\tif ( parameters.thicknessMap )\n\t\t\t_programLayers.enable( 19 );\n\t\tif ( parameters.sheen )\n\t\t\t_programLayers.enable( 20 );\n\t\tif ( parameters.sheenColorMap )\n\t\t\t_programLayers.enable( 21 );\n\t\tif ( parameters.sheenRoughnessMap )\n\t\t\t_programLayers.enable( 22 );\n\t\tif ( parameters.decodeVideoTexture )\n\t\t\t_programLayers.enable( 23 );\n\t\tif ( parameters.opaque )\n\t\t\t_programLayers.enable( 24 );\n\n\t\tarray.push( _programLayers.mask );\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\tfunction releaseShaderCache( material ) {\n\n\t\t_customShaders.remove( material );\n\n\t}\n\n\tfunction dispose() {\n\n\t\t_customShaders.dispose();\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\treleaseShaderCache: releaseShaderCache,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transmissive = [];\n\tconst transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransmissive.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.push( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.push( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.push( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.unshift( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.unshift( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.unshift( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transmissive.length > 1 ) transmissive.sort( customTransparentSort || reversePainterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransmissive: transmissive,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tconst listArray = lists.get( scene );\n\t\tlet list;\n\n\t\tif ( listArray === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= listArray.length ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tlistArray.push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = listArray[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingAndTexturingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 2 : 0 ) - ( lightA.castShadow ? 2 : 0 ) + ( lightB.map ? 1 : 0 ) - ( lightA.map ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1,\n\t\t\tnumSpotMaps: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotLightMap: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotLightMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: [],\n\t\tnumSpotLightShadowsWithMaps: 0\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, physicallyCorrectLights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\t\tlet numSpotMaps = 0;\n\t\tlet numSpotShadowsWithMaps = 0;\n\n\t\t// ordering : [shadow casting + map texturing, map texturing, shadow casting, none ]\n\t\tlights.sort( shadowCastingAndTexturingLightsFirst );\n\n\t\t// artist-friendly light intensity scaling factor\n\t\tconst scaleFactor = ( physicallyCorrectLights !== true ) ? Math.PI : 1;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity * scaleFactor;\n\t\t\t\tg += color.g * intensity * scaleFactor;\n\t\t\t\tb += color.b * intensity * scaleFactor;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\tif ( light.map ) {\n\n\t\t\t\t\tstate.spotLightMap[ numSpotMaps ] = light.map;\n\t\t\t\t\tnumSpotMaps ++;\n\n\t\t\t\t\t// make sure the lightMatrix is up to date\n\t\t\t\t\t// TODO : do it if required only\n\t\t\t\t\tshadow.updateMatrices( light );\n\n\t\t\t\t\tif ( light.castShadow ) numSpotShadowsWithMaps ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotLightMatrix[ spotLength ] = shadow.matrix;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity * scaleFactor );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ||\n\t\t\thash.numSpotMaps !== numSpotMaps ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotLightMatrix.length = numSpotShadows + numSpotMaps - numSpotShadowsWithMaps;\n\t\t\tstate.spotLightMap.length = numSpotMaps;\n\t\t\tstate.numSpotLightShadowsWithMaps = numSpotShadowsWithMaps;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\t\t\thash.numSpotMaps = numSpotMaps;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( physicallyCorrectLights ) {\n\n\t\tlights.setup( lightsArray, physicallyCorrectLights );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tconst renderStateArray = renderStates.get( scene );\n\t\tlet renderState;\n\n\t\tif ( renderStateArray === undefined ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStateArray.length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStateArray.push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStateArray[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDepthMaterial = true;\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDistanceMaterial = true;\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst vertex = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nconst fragment = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tconst float samples = float( VSM_SAMPLES );\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterial = new MeshDepthMaterial( { depthPacking: RGBADepthPacking } ),\n\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\t\tdefines: {\n\t\t\tVSM_SAMPLES: 8\n\t\t},\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vertex,\n\t\tfragmentShader: fragment\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = ( this.type !== VSMShadowMap ) ? { minFilter: NearestFilter, magFilter: NearestFilter } : {};\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( shadow.isPointLightShadow !== true && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\tif ( shadowMaterialVertical.defines.VSM_SAMPLES !== shadow.blurSamples ) {\n\n\t\t\tshadowMaterialVertical.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\tshadowMaterialHorizontal.defines.VSM_SAMPLES = shadow.blurSamples;\n\n\t\t\tshadowMaterialVertical.needsUpdate = true;\n\t\t\tshadowMaterialHorizontal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( shadow.mapPass === null ) {\n\n\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y );\n\n\t\t}\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tconst customMaterial = ( light.isPointLight === true ) ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\tif ( customMaterial !== undefined ) {\n\n\t\t\tresult = customMaterial;\n\n\t\t} else {\n\n\t\t\tresult = ( light.isPointLight === true ) ? _distanceMaterial : _depthMaterial;\n\n\t\t}\n\n\t\tif ( ( _renderer.localClippingEnabled && material.clipShadows === true && Array.isArray( material.clippingPlanes ) && material.clippingPlanes.length !== 0 ) ||\n\t\t\t( material.displacementMap && material.displacementScale !== 0 ) ||\n\t\t\t( material.alphaMap && material.alphaTest > 0 ) ||\n\t\t\t( material.map && material.alphaTest > 0 ) ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.alphaMap = material.alphaMap;\n\t\tresult.alphaTest = material.alphaTest;\n\t\tresult.map = material.map;\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.displacementMap = material.displacementMap;\n\t\tresult.displacementScale = material.displacementScale;\n\t\tresult.displacementBias = material.displacementBias;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tconst uboBindings = new WeakMap();\n\tconst uboProgamMap = new WeakMap();\n\n\tlet enabledCapabilities = {};\n\n\tlet currentBoundFramebuffers = {};\n\tlet currentDrawbuffers = new WeakMap();\n\tlet defaultDrawbuffers = [];\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst scissorParam = gl.getParameter( 3088 );\n\tconst viewportParam = gl.getParameter( 2978 );\n\n\tconst currentScissor = new Vector4().fromArray( scissorParam );\n\tconst currentViewport = new Vector4().fromArray( viewportParam );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction drawBuffers( renderTarget, framebuffer ) {\n\n\t\tlet drawBuffers = defaultDrawbuffers;\n\n\t\tlet needsUpdate = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tdrawBuffers = currentDrawbuffers.get( framebuffer );\n\n\t\t\tif ( drawBuffers === undefined ) {\n\n\t\t\t\tdrawBuffers = [];\n\t\t\t\tcurrentDrawbuffers.set( framebuffer, drawBuffers );\n\n\t\t\t}\n\n\t\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\tif ( drawBuffers.length !== textures.length || drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tdrawBuffers[ i ] = 36064 + i;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawBuffers.length = textures.length;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tdrawBuffers[ 0 ] = 36064;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( drawBuffers[ 0 ] !== 1029 ) {\n\n\t\t\t\tdrawBuffers[ 0 ] = 1029;\n\n\t\t\t\tneedsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgl.drawBuffers( drawBuffers );\n\n\t\t\t} else {\n\n\t\t\t\textensions.get( 'WEBGL_draw_buffers' ).drawBuffersWEBGL( drawBuffers );\n\n\t\t\t}\n\n\t\t}\n\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = false;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture, webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) {\n\n\t\t\tif ( currentTextureSlot === null ) {\n\n\t\t\t\twebglSlot = 33984 + maxTextures - 1;\n\n\t\t\t} else {\n\n\t\t\t\twebglSlot = currentTextureSlot;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ webglSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ webglSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\t\tgl.activeTexture( webglSlot );\n\t\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t\t}\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexSubImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexSubImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\tfunction updateUBOMapping( uniformsGroup, program ) {\n\n\t\tlet mapping = uboProgamMap.get( program );\n\n\t\tif ( mapping === undefined ) {\n\n\t\t\tmapping = new WeakMap();\n\n\t\t\tuboProgamMap.set( program, mapping );\n\n\t\t}\n\n\t\tlet blockIndex = mapping.get( uniformsGroup );\n\n\t\tif ( blockIndex === undefined ) {\n\n\t\t\tblockIndex = gl.getUniformBlockIndex( program, uniformsGroup.name );\n\n\t\t\tmapping.set( uniformsGroup, blockIndex );\n\n\t\t}\n\n\t}\n\n\tfunction uniformBlockBinding( uniformsGroup, program ) {\n\n\t\tconst mapping = uboProgamMap.get( program );\n\t\tconst blockIndex = mapping.get( uniformsGroup );\n\n\t\tif ( uboBindings.get( uniformsGroup ) !== blockIndex ) {\n\n\t\t\t// bind shader specific block index to global block point\n\n\t\t\tgl.uniformBlockBinding( program, blockIndex, uniformsGroup.__bindingPointIndex );\n\n\t\t\tuboBindings.set( uniformsGroup, blockIndex );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentBoundFramebuffers = {};\n\t\tcurrentDrawbuffers = new WeakMap();\n\t\tdefaultDrawbuffers = [];\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tdrawBuffers: drawBuffers,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\tcompressedTexImage3D: compressedTexImage3D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tupdateUBOMapping: updateUBOMapping,\n\t\tuniformBlockBinding: uniformBlockBinding,\n\n\t\ttexStorage2D: texStorage2D,\n\t\ttexStorage3D: texStorage3D,\n\t\ttexSubImage2D: texSubImage2D,\n\t\ttexSubImage3D: texSubImage3D,\n\t\tcompressedTexSubImage2D: compressedTexSubImage2D,\n\t\tcompressedTexSubImage3D: compressedTexSubImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\tconst multisampledRTTExt = extensions.has( 'WEBGL_multisampled_render_to_texture' ) ? extensions.get( 'WEBGL_multisampled_render_to_texture' ) : null;\n\tconst supportsInvalidateFramebuffer = typeof navigator === 'undefined' ? false : /OculusBrowser/g.test( navigator.userAgent );\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\tconst _sources = new WeakMap(); // maps WebglTexture objects to instances of Source\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\tnew OffscreenCanvas( width, height ) : createElementNS( 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType, encoding, forceLinearEncoding = false ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 33319 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33328;\n\t\t\tif ( glType === 5131 ) internalFormat = 33327;\n\t\t\tif ( glType === 5121 ) internalFormat = 33323;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = ( encoding === sRGBEncoding && forceLinearEncoding === false ) ? 35907 : 32856;\n\t\t\tif ( glType === 32819 ) internalFormat = 32854;\n\t\t\tif ( glType === 32820 ) internalFormat = 32855;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 33327 || internalFormat === 33328 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\tfunction getMipLevels( texture, image, supportsMips ) {\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) === true || ( texture.isFramebufferTexture && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) ) {\n\n\t\t\treturn Math.log2( Math.max( image.width, image.height ) ) + 1;\n\n\t\t} else if ( texture.mipmaps !== undefined && texture.mipmaps.length > 0 ) {\n\n\t\t\t// user-defined mipmaps\n\n\t\t\treturn texture.mipmaps.length;\n\n\t\t} else if ( texture.isCompressedTexture && Array.isArray( texture.image ) ) {\n\n\t\t\treturn image.mipmaps.length;\n\n\t\t} else {\n\n\t\t\t// texture without mipmaps (only base level)\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t// check if it's necessary to remove the WebGLTexture object\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures ) {\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\t\t\twebglTexture.usedTimes --;\n\n\t\t\t// the WebGLTexture object is not used anymore, remove it\n\n\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\tdeleteTexture( texture );\n\n\t\t\t}\n\n\t\t\t// remove the weak map entry if no WebGLTexture uses the source anymore\n\n\t\t\tif ( Object.keys( webglTextures ).length === 0 ) {\n\n\t\t\t\t_sources.delete( source );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deleteTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\t\tdelete webglTextures[ textureProperties.__cacheKey ];\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t\tinfo.memory.textures --;\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) {\n\n\t\t\t\tfor ( let i = 0; i < renderTargetProperties.__webglColorRenderbuffer.length; i ++ ) {\n\n\t\t\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer[ i ] ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\tfor ( let i = 0, il = texture.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachmentProperties = properties.get( texture[ i ] );\n\n\t\t\t\tif ( attachmentProperties.__webglTexture ) {\n\n\t\t\t\t\t_gl.deleteTexture( attachmentProperties.__webglTexture );\n\n\t\t\t\t\tinfo.memory.textures --;\n\n\t\t\t\t}\n\n\t\t\t\tproperties.remove( texture[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tfunction getTextureCacheKey( texture ) {\n\n\t\tconst array = [];\n\n\t\tarray.push( texture.wrapS );\n\t\tarray.push( texture.wrapT );\n\t\tarray.push( texture.wrapR || 0 );\n\t\tarray.push( texture.magFilter );\n\t\tarray.push( texture.minFilter );\n\t\tarray.push( texture.anisotropy );\n\t\tarray.push( texture.internalFormat );\n\t\tarray.push( texture.format );\n\t\tarray.push( texture.type );\n\t\tarray.push( texture.generateMipmaps );\n\t\tarray.push( texture.premultiplyAlpha );\n\t\tarray.push( texture.flipY );\n\t\tarray.push( texture.unpackAlignment );\n\t\tarray.push( texture.encoding );\n\n\t\treturn array.join();\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.isRenderTargetTexture === false && texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but no image data found.' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture, 33984 + slot );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tlet forceUpload = false;\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t}\n\n\t\t// create Source <-> WebGLTextures mapping if necessary\n\n\t\tconst source = texture.source;\n\t\tlet webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures === undefined ) {\n\n\t\t\twebglTextures = {};\n\t\t\t_sources.set( source, webglTextures );\n\n\t\t}\n\n\t\t// check if there is already a WebGLTexture object for the given texture parameters\n\n\t\tconst textureCacheKey = getTextureCacheKey( texture );\n\n\t\tif ( textureCacheKey !== textureProperties.__cacheKey ) {\n\n\t\t\t// if not, create a new instance of WebGLTexture\n\n\t\t\tif ( webglTextures[ textureCacheKey ] === undefined ) {\n\n\t\t\t\t// create new entry\n\n\t\t\t\twebglTextures[ textureCacheKey ] = {\n\t\t\t\t\ttexture: _gl.createTexture(),\n\t\t\t\t\tusedTimes: 0\n\t\t\t\t};\n\n\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t// when a new instance of WebGLTexture was created, a texture upload is required\n\t\t\t\t// even if the image contents are identical\n\n\t\t\t\tforceUpload = true;\n\n\t\t\t}\n\n\t\t\twebglTextures[ textureCacheKey ].usedTimes ++;\n\n\t\t\t// every time the texture cache key changes, it's necessary to check if an instance of\n\t\t\t// WebGLTexture can be deleted in order to avoid a memory leak.\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\n\t\t\tif ( webglTexture !== undefined ) {\n\n\t\t\t\twebglTextures[ textureProperties.__cacheKey ].usedTimes --;\n\n\t\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\t\tdeleteTexture( texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// store references to cache key and WebGLTexture object\n\n\t\t\ttextureProperties.__cacheKey = textureCacheKey;\n\t\t\ttextureProperties.__webglTexture = webglTextures[ textureCacheKey ].texture;\n\n\t\t}\n\n\t\treturn forceUpload;\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataArrayTexture || texture.isCompressedArrayTexture ) textureType = 35866;\n\t\tif ( texture.isData3DTexture ) textureType = 32879;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture, 33984 + slot );\n\n\t\tconst sourceProperties = properties.get( source );\n\n\t\tif ( source.version !== sourceProperties.__version || forceUpload === true ) {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\t\tlet image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\t\t\timage = verifyColorSpace( texture, image );\n\n\t\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding );\n\n\t\t\tlet glType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding, texture.isVideoTexture );\n\n\t\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\t\tlet mipmap;\n\t\t\tconst mipmaps = texture.mipmaps;\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( sourceProperties.__version === undefined ) || ( forceUpload === true );\n\t\t\tconst levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t\t// populate depth texture with dummy data\n\n\t\t\t\tglInternalFormat = 6402;\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// validation checks for WebGL 1\n\n\t\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedIntType;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t//\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, 1, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, image.width, image.height, glFormat, glType, image.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\t\tif ( texture.isCompressedArrayTexture ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 35866, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage3D( 35866, i, 0, 0, 0, mipmap.width, mipmap.height, image.depth, glFormat, mipmap.data, 0, 0 );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage3D( 35866, i, glInternalFormat, mipmap.width, mipmap.height, image.depth, 0, mipmap.data, 0, 0 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage3D( 35866, i, 0, 0, 0, mipmap.width, mipmap.height, image.depth, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage3D( 35866, i, glInternalFormat, mipmap.width, mipmap.height, image.depth, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataArrayTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 35866, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 35866, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 32879, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 32879, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isFramebufferTexture ) {\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlet width = image.width, height = image.height;\n\n\t\t\t\t\t\tfor ( let i = 0; i < levels; i ++ ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, width, height, 0, glFormat, glType, null );\n\n\t\t\t\t\t\t\twidth >>= 1;\n\t\t\t\t\t\t\theight >>= 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, glFormat, glType, image );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( textureType );\n\n\t\t\t}\n\n\t\t\tsourceProperties.__version = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture, 33984 + slot );\n\n\t\tconst sourceProperties = properties.get( source );\n\n\t\tif ( source.version !== sourceProperties.__version || forceUpload === true ) {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst isCompressed = ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture );\n\t\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tconst cubeImage = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t\tcubeImage[ i ] = verifyColorSpace( texture, cubeImage[ i ] );\n\n\t\t\t}\n\n\t\t\tconst image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( sourceProperties.__version === undefined ) || ( forceUpload === true );\n\t\t\tlet levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tlet mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t// TODO: Uniformly handle mipmap definitions\n\t\t\t\t\t// Normal textures and compressed cube textures define base level + mips with their mipmap array\n\t\t\t\t\t// Uncompressed cube textures use their mipmap array only for mips (no base level)\n\n\t\t\t\t\tif ( mipmaps.length > 0 ) levels ++;\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, cubeImage[ 0 ].width, cubeImage[ 0 ].height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, cubeImage[ i ].width, cubeImage[ i ].height, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, mipmapImage.width, mipmapImage.height, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tsourceProperties.__version = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, texture, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( ! renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0, getRenderTargetSamples( renderTarget ) );\n\n\t\t} else if ( textureTarget === 3553 || ( textureTarget >= 34069 && textureTarget <= 34074 ) ) { // see #24753\n\n\t\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample || useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tconst texture = textures[ i ];\n\n\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 36096, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 33306, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture && ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// rebind framebuffer with external textures\n\tfunction rebindTextures( renderTarget, colorTexture, depthTexture ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( colorTexture !== undefined ) {\n\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, renderTarget.texture, 36064, 3553 );\n\n\t\t}\n\n\t\tif ( depthTexture !== undefined ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets !== true ) {\n\n\t\t\tif ( textureProperties.__webglTexture === undefined ) {\n\n\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tif ( capabilities.drawBuffers ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst attachmentProperties = properties.get( textures[ i ] );\n\n\t\t\t\t\t\tif ( attachmentProperties.__webglTexture === undefined ) {\n\n\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\tconst textures = isMultipleRenderTargets ? texture : [ texture ];\n\n\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = [];\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tconst texture = textures[ i ];\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer[ i ] = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding, renderTarget.isXRRenderTarget === true );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t}\n\n\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, texture, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else if ( isMultipleRenderTargets ) {\n\n\t\t\tconst textures = renderTarget.texture;\n\n\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachment = textures[ i ];\n\t\t\t\tconst attachmentProperties = properties.get( attachment );\n\n\t\t\t\tstate.bindTexture( 3553, attachmentProperties.__webglTexture );\n\t\t\t\tsetTextureParameters( 3553, attachment, supportsMips );\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, attachment, 36064 + i, 3553 );\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( attachment, supportsMips ) ) {\n\n\t\t\t\t\tgenerateMipmap( 3553 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( renderTarget.isWebGL3DRenderTarget || renderTarget.isWebGLArrayRenderTarget ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tglTextureType = renderTarget.isWebGL3DRenderTarget ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, texture, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( glTextureType );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\tconst texture = textures[ i ];\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t\tgenerateMipmap( target );\n\t\t\t\tstate.unbindTexture();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets ? renderTarget.texture : [ renderTarget.texture ];\n\t\t\tconst width = renderTarget.width;\n\t\t\tconst height = renderTarget.height;\n\t\t\tlet mask = 16384;\n\t\t\tconst invalidationArray = [];\n\t\t\tconst depthStyle = renderTarget.stencilBuffer ? 33306 : 36096;\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\n\t\t\t// If MRT we need to remove FBO attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, null );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, null, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tinvalidationArray.push( 36064 + i );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\tinvalidationArray.push( depthStyle );\n\n\t\t\t\t}\n\n\t\t\t\tconst ignoreDepthValues = ( renderTargetProperties.__ignoreDepthValues !== undefined ) ? renderTargetProperties.__ignoreDepthValues : false;\n\n\t\t\t\tif ( ignoreDepthValues === false ) {\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36008, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ignoreDepthValues === true ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, [ depthStyle ] );\n\t\t\t\t\t_gl.invalidateFramebuffer( 36009, [ depthStyle ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tif ( supportsInvalidateFramebuffer ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, invalidationArray );\n\n\t\t\t\t}\n\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\tstate.bindFramebuffer( 36009, null );\n\n\t\t\t// If MRT since pre-blit we removed the FBO we need to reconstruct the attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn Math.min( maxSamples, renderTarget.samples );\n\n\t}\n\n\tfunction useMultisampledRTT( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\treturn isWebGL2 && renderTarget.samples > 0 && extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true && renderTargetProperties.__useRenderToTexture !== false;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\tfunction verifyColorSpace( texture, image ) {\n\n\t\tconst encoding = texture.encoding;\n\t\tconst format = texture.format;\n\t\tconst type = texture.type;\n\n\t\tif ( texture.isCompressedTexture === true || texture.isVideoTexture === true || texture.format === _SRGBAFormat ) return image;\n\n\t\tif ( encoding !== LinearEncoding ) {\n\n\t\t\t// sRGB\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\tif ( isWebGL2 === false ) {\n\n\t\t\t\t\t// in WebGL 1, try to use EXT_sRGB extension and unsized formats\n\n\t\t\t\t\tif ( extensions.has( 'EXT_sRGB' ) === true && format === RGBAFormat ) {\n\n\t\t\t\t\t\ttexture.format = _SRGBAFormat;\n\n\t\t\t\t\t\t// it's not possible to generate mips in WebGL 1 with this extension\n\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// slow fallback (CPU decode)\n\n\t\t\t\t\t\timage = ImageUtils.sRGBToLinear( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// in WebGL 2 uncompressed textures can only be sRGB encoded if they have the RGBA8 format\n\n\t\t\t\t\tif ( format !== RGBAFormat || type !== UnsignedByteType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.WebGLTextures: Unsupported texture encoding:', encoding );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.rebindTextures = rebindTextures;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\tthis.setupDepthRenderbuffer = setupDepthRenderbuffer;\n\tthis.setupFrameBufferTexture = setupFrameBufferTexture;\n\tthis.useMultisampledRTT = useMultisampledRTT;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p, encoding = null ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\n\t\t// @deprecated since r137\n\n\t\tif ( p === RGBFormat ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228' );\n\t\t\treturn 6408;\n\n\t\t}\n\n\t\t// WebGL 1 sRGB fallback\n\n\t\tif ( p === _SRGBAFormat ) {\n\n\t\t\textension = extensions.get( 'EXT_sRGB' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.SRGB_ALPHA_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedFormat ) return 6403;\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\t// S3TC\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc_srgb' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// PVRTC\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC1\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC2\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ETC2 : extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ASTC\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_ASTC_4x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : extension.COMPRESSED_RGBA_ASTC_4x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : extension.COMPRESSED_RGBA_ASTC_5x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : extension.COMPRESSED_RGBA_ASTC_5x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : extension.COMPRESSED_RGBA_ASTC_6x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : extension.COMPRESSED_RGBA_ASTC_6x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : extension.COMPRESSED_RGBA_ASTC_8x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : extension.COMPRESSED_RGBA_ASTC_8x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : extension.COMPRESSED_RGBA_ASTC_8x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : extension.COMPRESSED_RGBA_ASTC_10x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : extension.COMPRESSED_RGBA_ASTC_10x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : extension.COMPRESSED_RGBA_ASTC_10x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : extension.COMPRESSED_RGBA_ASTC_10x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : extension.COMPRESSED_RGBA_ASTC_12x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x12_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : extension.COMPRESSED_RGBA_ASTC_12x12_KHR;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// BPTC\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_BPTC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : extension.COMPRESSED_RGBA_BPTC_UNORM_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// if \"p\" can't be resolved, assume the user defines a WebGL constant as a string (fallback/workaround for packed RGB formats)\n\n\t\treturn ( gl[ p ] !== undefined ) ? gl[ p ] : null;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isArrayCamera = true;\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isGroup = true;\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tconnect( inputSource ) {\n\n\t\tif ( inputSource && inputSource.hand ) {\n\n\t\t\tconst hand = this._hand;\n\n\t\t\tif ( hand ) {\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Initialize hand with joints when connected\n\t\t\t\t\tthis._getHandJoint( hand, inputjoint );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\tconst joint = this._getHandJoint( hand, inputjoint );\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t// Some runtimes (namely Vive Cosmos with Vive OpenXR Runtime) have only grip space and ray space is equal to it\n\t\t\t\tif ( inputPose === null && gripPose !== null ) {\n\n\t\t\t\t\tinputPose = gripPose;\n\n\t\t\t\t}\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// private method\n\n\t_getHandJoint( hand, inputjoint ) {\n\n\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\tconst joint = new Group();\n\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\tjoint.visible = false;\n\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\n\t\t\thand.add( joint );\n\n\t\t}\n\n\t\treturn hand.joints[ inputjoint.jointName ];\n\n\t}\n\n}\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedIntType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isDepthTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\n\t\tlet session = null;\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\t\tlet customReferenceSpace = null;\n\n\t\tlet pose = null;\n\t\tlet glBinding = null;\n\t\tlet glProjLayer = null;\n\t\tlet glBaseLayer = null;\n\t\tlet xrFrame = null;\n\t\tconst attributes = gl.getContextAttributes();\n\t\tlet initialRenderTarget = null;\n\t\tlet newRenderTarget = null;\n\n\t\tconst controllers = [];\n\t\tconst controllerInputSources = [];\n\n\t\tconst planes = new Set();\n\t\tconst planesLastChangedTimes = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.cameraAutoUpdate = true;\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controllerIndex = controllerInputSources.indexOf( event.inputSource );\n\n\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\tif ( controller !== undefined ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tsession.removeEventListener( 'select', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'end', onSessionEnd );\n\t\t\tsession.removeEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\n\t\t\t\tif ( inputSource === null ) continue;\n\n\t\t\t\tcontrollerInputSources[ i ] = null;\n\n\t\t\t\tcontrollers[ i ].disconnect( inputSource );\n\n\t\t\t}\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\trenderer.setRenderTarget( initialRenderTarget );\n\n\t\t\tglBaseLayer = null;\n\t\t\tglProjLayer = null;\n\t\t\tglBinding = null;\n\t\t\tsession = null;\n\t\t\tnewRenderTarget = null;\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn customReferenceSpace || referenceSpace;\n\n\t\t};\n\n\t\tthis.setReferenceSpace = function ( space ) {\n\n\t\t\tcustomReferenceSpace = space;\n\n\t\t};\n\n\t\tthis.getBaseLayer = function () {\n\n\t\t\treturn glProjLayer !== null ? glProjLayer : glBaseLayer;\n\n\t\t};\n\n\t\tthis.getBinding = function () {\n\n\t\t\treturn glBinding;\n\n\t\t};\n\n\t\tthis.getFrame = function () {\n\n\t\t\treturn xrFrame;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tinitialRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ( session.renderState.layers === undefined ) || ( renderer.capabilities.isWebGL2 === false ) ) {\n\n\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\tantialias: ( session.renderState.layers === undefined ) ? attributes.antialias : true,\n\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\tsession.updateRenderState( { baseLayer: glBaseLayer } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglBaseLayer.framebufferWidth,\n\t\t\t\t\t\tglBaseLayer.framebufferHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding,\n\t\t\t\t\t\t\tstencilBuffer: attributes.stencil\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet depthFormat = null;\n\t\t\t\t\tlet depthType = null;\n\t\t\t\t\tlet glDepthFormat = null;\n\n\t\t\t\t\tif ( attributes.depth ) {\n\n\t\t\t\t\t\tglDepthFormat = attributes.stencil ? 35056 : 33190;\n\t\t\t\t\t\tdepthFormat = attributes.stencil ? DepthStencilFormat : DepthFormat;\n\t\t\t\t\t\tdepthType = attributes.stencil ? UnsignedInt248Type : UnsignedIntType;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\tcolorFormat: 32856,\n\t\t\t\t\t\tdepthFormat: glDepthFormat,\n\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBinding = new XRWebGLBinding( session, gl );\n\n\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer( projectionlayerInit );\n\n\t\t\t\t\tsession.updateRenderState( { layers: [ glProjLayer ] } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglProjLayer.textureWidth,\n\t\t\t\t\t\tglProjLayer.textureHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tdepthTexture: new DepthTexture( glProjLayer.textureWidth, glProjLayer.textureHeight, depthType, undefined, undefined, undefined, undefined, undefined, undefined, depthFormat ),\n\t\t\t\t\t\t\tstencilBuffer: attributes.stencil,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding,\n\t\t\t\t\t\t\tsamples: attributes.antialias ? 4 : 0\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tconst renderTargetProperties = renderer.properties.get( newRenderTarget );\n\t\t\t\t\trenderTargetProperties.__ignoreDepthValues = glProjLayer.ignoreDepthValues;\n\n\t\t\t\t}\n\n\t\t\t\tnewRenderTarget.isXRRenderTarget = true; // TODO Remove this when possible, see #23278\n\n\t\t\t\t// Set foveation to maximum.\n\t\t\t\tthis.setFoveation( 1.0 );\n\n\t\t\t\tcustomReferenceSpace = null;\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst index = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( index >= 0 ) {\n\n\t\t\t\t\tcontrollerInputSources[ index ] = null;\n\t\t\t\t\tcontrollers[ index ].disconnect( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\n\t\t\t\tlet controllerIndex = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\t\t// Assign input source a controller that currently has no input source\n\n\t\t\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\t\tif ( i >= controllerInputSources.length ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources.push( inputSource );\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t} else if ( controllerInputSources[ i ] === null ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources[ i ] = inputSource;\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If all controllers do currently receive input we ignore new ones\n\n\t\t\t\t\tif ( controllerIndex === - 1 ) break;\n\n\t\t\t\t}\n\n\t\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.connect( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.updateCamera = function ( camera ) {\n\n\t\t\tif ( session === null ) return;\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\tcameraVR.matrixWorld.decompose( cameraVR.position, cameraVR.quaternion, cameraVR.scale );\n\n\t\t\t// update user camera and its children\n\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getCamera = function () {\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\tthis.getFoveation = function () {\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\treturn glProjLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\treturn glBaseLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\treturn undefined;\n\n\t\t};\n\n\t\tthis.setFoveation = function ( foveation ) {\n\n\t\t\t// 0 = no foveation = full resolution\n\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\tglProjLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined ) {\n\n\t\t\t\tglBaseLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getPlanes = function () {\n\n\t\t\treturn planes;\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( customReferenceSpace || referenceSpace );\n\t\t\txrFrame = frame;\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\n\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\trenderer.setRenderTargetFramebuffer( newRenderTarget, glBaseLayer.framebuffer );\n\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t}\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\n\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\t\tviewport = glBaseLayer.getViewport( view );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage( glProjLayer, view );\n\t\t\t\t\t\tviewport = glSubImage.viewport;\n\n\t\t\t\t\t\t// For side-by-side projection, we only produce a single texture for both eyes.\n\t\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\t\trenderer.setRenderTargetTextures(\n\t\t\t\t\t\t\t\tnewRenderTarget,\n\t\t\t\t\t\t\t\tglSubImage.colorTexture,\n\t\t\t\t\t\t\t\tglProjLayer.ignoreDepthValues ? undefined : glSubImage.depthStencilTexture );\n\n\t\t\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet camera = cameras[ i ];\n\n\t\t\t\t\tif ( camera === undefined ) {\n\n\t\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\t\tcamera.layers.enable( i );\n\t\t\t\t\t\tcamera.viewport = new Vector4();\n\t\t\t\t\t\tcameras[ i ] = camera;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\t\t\t\tconst controller = controllers[ i ];\n\n\t\t\t\tif ( inputSource !== null && controller !== undefined ) {\n\n\t\t\t\t\tcontroller.update( inputSource, frame, customReferenceSpace || referenceSpace );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t\tif ( frame.detectedPlanes ) {\n\n\t\t\t\tscope.dispatchEvent( { type: 'planesdetected', data: frame.detectedPlanes } );\n\n\t\t\t\tlet planesToRemove = null;\n\n\t\t\t\tfor ( const plane of planes ) {\n\n\t\t\t\t\tif ( ! frame.detectedPlanes.has( plane ) ) {\n\n\t\t\t\t\t\tif ( planesToRemove === null ) {\n\n\t\t\t\t\t\t\tplanesToRemove = [];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tplanesToRemove.push( plane );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( planesToRemove !== null ) {\n\n\t\t\t\t\tfor ( const plane of planesToRemove ) {\n\n\t\t\t\t\t\tplanes.delete( plane );\n\t\t\t\t\t\tplanesLastChangedTimes.delete( plane );\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'planeremoved', data: plane } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( const plane of frame.detectedPlanes ) {\n\n\t\t\t\t\tif ( ! planes.has( plane ) ) {\n\n\t\t\t\t\t\tplanes.add( plane );\n\t\t\t\t\t\tplanesLastChangedTimes.set( plane, frame.lastChangedTime );\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'planeadded', data: plane } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst lastKnownTime = planesLastChangedTimes.get( plane );\n\n\t\t\t\t\t\tif ( plane.lastChangedTime > lastKnownTime ) {\n\n\t\t\t\t\t\t\tplanesLastChangedTimes.set( plane, plane.lastChangedTime );\n\t\t\t\t\t\t\tscope.dispatchEvent( { type: 'planechanged', data: plane } );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\txrFrame = null;\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( renderer, properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tfog.color.getRGB( uniforms.fogColor.value, getUnlitUniformColorSpace( renderer ) );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height, transmissionRenderTarget ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material, transmissionRenderTarget );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.ior.value = material.ior;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\n\t\t\t// artist-friendly light intensity scaling factor\n\t\t\tconst scaleFactor = ( renderer.physicallyCorrectLights !== true ) ? Math.PI : 1;\n\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity * scaleFactor;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\t\t// 13. iridescence map\n\t\t// 14. iridescence thickness map\n\t\t// 15. specular intensity map\n\t\t// 16. specular tint map\n\t\t// 17. transmission map\n\t\t// 18. thickness map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t} else if ( material.iridescenceMap ) {\n\n\t\t\tuvScaleMap = material.iridescenceMap;\n\n\t\t} else if ( material.iridescenceThicknessMap ) {\n\n\t\t\tuvScaleMap = material.iridescenceThicknessMap;\n\n\t\t} else if ( material.specularIntensityMap ) {\n\n\t\t\tuvScaleMap = material.specularIntensityMap;\n\n\t\t} else if ( material.specularColorMap ) {\n\n\t\t\tuvScaleMap = material.specularColorMap;\n\n\t\t} else if ( material.transmissionMap ) {\n\n\t\t\tuvScaleMap = material.transmissionMap;\n\n\t\t} else if ( material.thicknessMap ) {\n\n\t\t\tuvScaleMap = material.thicknessMap;\n\n\t\t} else if ( material.sheenColorMap ) {\n\n\t\t\tuvScaleMap = material.sheenColorMap;\n\n\t\t} else if ( material.sheenRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.sheenRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, transmissionRenderTarget ) {\n\n\t\tuniforms.ior.value = material.ior; // also part of uniforms common\n\n\t\tif ( material.sheen > 0 ) {\n\n\t\t\tuniforms.sheenColor.value.copy( material.sheenColor ).multiplyScalar( material.sheen );\n\n\t\t\tuniforms.sheenRoughness.value = material.sheenRoughness;\n\n\t\t\tif ( material.sheenColorMap ) {\n\n\t\t\t\tuniforms.sheenColorMap.value = material.sheenColorMap;\n\n\t\t\t}\n\n\t\t\tif ( material.sheenRoughnessMap ) {\n\n\t\t\t\tuniforms.sheenRoughnessMap.value = material.sheenRoughnessMap;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.clearcoat > 0 ) {\n\n\t\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\t\tif ( material.clearcoatMap ) {\n\n\t\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.iridescence > 0 ) {\n\n\t\t\tuniforms.iridescence.value = material.iridescence;\n\t\t\tuniforms.iridescenceIOR.value = material.iridescenceIOR;\n\t\t\tuniforms.iridescenceThicknessMinimum.value = material.iridescenceThicknessRange[ 0 ];\n\t\t\tuniforms.iridescenceThicknessMaximum.value = material.iridescenceThicknessRange[ 1 ];\n\n\t\t\tif ( material.iridescenceMap ) {\n\n\t\t\t\tuniforms.iridescenceMap.value = material.iridescenceMap;\n\n\t\t\t}\n\n\t\t\tif ( material.iridescenceThicknessMap ) {\n\n\t\t\t\tuniforms.iridescenceThicknessMap.value = material.iridescenceThicknessMap;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.transmission > 0 ) {\n\n\t\t\tuniforms.transmission.value = material.transmission;\n\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\tuniforms.transmissionSamplerSize.value.set( transmissionRenderTarget.width, transmissionRenderTarget.height );\n\n\t\t\tif ( material.transmissionMap ) {\n\n\t\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t\t}\n\n\t\t\tuniforms.thickness.value = material.thickness;\n\n\t\t\tif ( material.thicknessMap ) {\n\n\t\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\n\t\t\t}\n\n\t\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\t\tuniforms.attenuationColor.value.copy( material.attenuationColor );\n\n\t\t}\n\n\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\tuniforms.specularColor.value.copy( material.specularColor );\n\n\t\tif ( material.specularIntensityMap ) {\n\n\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\n\t\t}\n\n\t\tif ( material.specularColorMap ) {\n\n\t\t\tuniforms.specularColorMap.value = material.specularColorMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction WebGLUniformsGroups( gl, info, capabilities, state ) {\n\n\tlet buffers = {};\n\tlet updateList = {};\n\tlet allocatedBindingPoints = [];\n\n\tconst maxBindingPoints = ( capabilities.isWebGL2 ) ? gl.getParameter( 35375 ) : 0; // binding points are global whereas block indices are per shader program\n\n\tfunction bind( uniformsGroup, program ) {\n\n\t\tconst webglProgram = program.program;\n\t\tstate.uniformBlockBinding( uniformsGroup, webglProgram );\n\n\t}\n\n\tfunction update( uniformsGroup, program ) {\n\n\t\tlet buffer = buffers[ uniformsGroup.id ];\n\n\t\tif ( buffer === undefined ) {\n\n\t\t\tprepareUniformsGroup( uniformsGroup );\n\n\t\t\tbuffer = createBuffer( uniformsGroup );\n\t\t\tbuffers[ uniformsGroup.id ] = buffer;\n\n\t\t\tuniformsGroup.addEventListener( 'dispose', onUniformsGroupsDispose );\n\n\t\t}\n\n\t\t// ensure to update the binding points/block indices mapping for this program\n\n\t\tconst webglProgram = program.program;\n\t\tstate.updateUBOMapping( uniformsGroup, webglProgram );\n\n\t\t// update UBO once per frame\n\n\t\tconst frame = info.render.frame;\n\n\t\tif ( updateList[ uniformsGroup.id ] !== frame ) {\n\n\t\t\tupdateBufferData( uniformsGroup );\n\n\t\t\tupdateList[ uniformsGroup.id ] = frame;\n\n\t\t}\n\n\t}\n\n\tfunction createBuffer( uniformsGroup ) {\n\n\t\t// the setup of an UBO is independent of a particular shader program but global\n\n\t\tconst bindingPointIndex = allocateBindingPointIndex();\n\t\tuniformsGroup.__bindingPointIndex = bindingPointIndex;\n\n\t\tconst buffer = gl.createBuffer();\n\t\tconst size = uniformsGroup.__size;\n\t\tconst usage = uniformsGroup.usage;\n\n\t\tgl.bindBuffer( 35345, buffer );\n\t\tgl.bufferData( 35345, size, usage );\n\t\tgl.bindBuffer( 35345, null );\n\t\tgl.bindBufferBase( 35345, bindingPointIndex, buffer );\n\n\t\treturn buffer;\n\n\t}\n\n\tfunction allocateBindingPointIndex() {\n\n\t\tfor ( let i = 0; i < maxBindingPoints; i ++ ) {\n\n\t\t\tif ( allocatedBindingPoints.indexOf( i ) === - 1 ) {\n\n\t\t\t\tallocatedBindingPoints.push( i );\n\t\t\t\treturn i;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconsole.error( 'THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.' );\n\n\t\treturn 0;\n\n\t}\n\n\tfunction updateBufferData( uniformsGroup ) {\n\n\t\tconst buffer = buffers[ uniformsGroup.id ];\n\t\tconst uniforms = uniformsGroup.uniforms;\n\t\tconst cache = uniformsGroup.__cache;\n\n\t\tgl.bindBuffer( 35345, buffer );\n\n\t\tfor ( let i = 0, il = uniforms.length; i < il; i ++ ) {\n\n\t\t\tconst uniform = uniforms[ i ];\n\n\t\t\t// partly update the buffer if necessary\n\n\t\t\tif ( hasUniformChanged( uniform, i, cache ) === true ) {\n\n\t\t\t\tconst value = uniform.value;\n\t\t\t\tconst offset = uniform.__offset;\n\n\t\t\t\tif ( typeof value === 'number' ) {\n\n\t\t\t\t\tuniform.__data[ 0 ] = value;\n\t\t\t\t\tgl.bufferSubData( 35345, offset, uniform.__data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( uniform.value.isMatrix3 ) {\n\n\t\t\t\t\t\t// manually converting 3x3 to 3x4\n\n\t\t\t\t\t\tuniform.__data[ 0 ] = uniform.value.elements[ 0 ];\n\t\t\t\t\t\tuniform.__data[ 1 ] = uniform.value.elements[ 1 ];\n\t\t\t\t\t\tuniform.__data[ 2 ] = uniform.value.elements[ 2 ];\n\t\t\t\t\t\tuniform.__data[ 3 ] = uniform.value.elements[ 0 ];\n\t\t\t\t\t\tuniform.__data[ 4 ] = uniform.value.elements[ 3 ];\n\t\t\t\t\t\tuniform.__data[ 5 ] = uniform.value.elements[ 4 ];\n\t\t\t\t\t\tuniform.__data[ 6 ] = uniform.value.elements[ 5 ];\n\t\t\t\t\t\tuniform.__data[ 7 ] = uniform.value.elements[ 0 ];\n\t\t\t\t\t\tuniform.__data[ 8 ] = uniform.value.elements[ 6 ];\n\t\t\t\t\t\tuniform.__data[ 9 ] = uniform.value.elements[ 7 ];\n\t\t\t\t\t\tuniform.__data[ 10 ] = uniform.value.elements[ 8 ];\n\t\t\t\t\t\tuniform.__data[ 11 ] = uniform.value.elements[ 0 ];\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvalue.toArray( uniform.__data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgl.bufferSubData( 35345, offset, uniform.__data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tgl.bindBuffer( 35345, null );\n\n\t}\n\n\tfunction hasUniformChanged( uniform, index, cache ) {\n\n\t\tconst value = uniform.value;\n\n\t\tif ( cache[ index ] === undefined ) {\n\n\t\t\t// cache entry does not exist so far\n\n\t\t\tif ( typeof value === 'number' ) {\n\n\t\t\t\tcache[ index ] = value;\n\n\t\t\t} else {\n\n\t\t\t\tcache[ index ] = value.clone();\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t} else {\n\n\t\t\t// compare current value with cached entry\n\n\t\t\tif ( typeof value === 'number' ) {\n\n\t\t\t\tif ( cache[ index ] !== value ) {\n\n\t\t\t\t\tcache[ index ] = value;\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst cachedObject = cache[ index ];\n\n\t\t\t\tif ( cachedObject.equals( value ) === false ) {\n\n\t\t\t\t\tcachedObject.copy( value );\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction prepareUniformsGroup( uniformsGroup ) {\n\n\t\t// determine total buffer size according to the STD140 layout\n\t\t// Hint: STD140 is the only supported layout in WebGL 2\n\n\t\tconst uniforms = uniformsGroup.uniforms;\n\n\t\tlet offset = 0; // global buffer offset in bytes\n\t\tconst chunkSize = 16; // size of a chunk in bytes\n\t\tlet chunkOffset = 0; // offset within a single chunk in bytes\n\n\t\tfor ( let i = 0, l = uniforms.length; i < l; i ++ ) {\n\n\t\t\tconst uniform = uniforms[ i ];\n\t\t\tconst info = getUniformSize( uniform );\n\n\t\t\t// the following two properties will be used for partial buffer updates\n\n\t\t\tuniform.__data = new Float32Array( info.storage / Float32Array.BYTES_PER_ELEMENT );\n\t\t\tuniform.__offset = offset;\n\n\t\t\t//\n\n\t\t\tif ( i > 0 ) {\n\n\t\t\t\tchunkOffset = offset % chunkSize;\n\n\t\t\t\tconst remainingSizeInChunk = chunkSize - chunkOffset;\n\n\t\t\t\t// check for chunk overflow\n\n\t\t\t\tif ( chunkOffset !== 0 && ( remainingSizeInChunk - info.boundary ) < 0 ) {\n\n\t\t\t\t\t// add padding and adjust offset\n\n\t\t\t\t\toffset += ( chunkSize - chunkOffset );\n\t\t\t\t\tuniform.__offset = offset;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\toffset += info.storage;\n\n\t\t}\n\n\t\t// ensure correct final padding\n\n\t\tchunkOffset = offset % chunkSize;\n\n\t\tif ( chunkOffset > 0 ) offset += ( chunkSize - chunkOffset );\n\n\t\t//\n\n\t\tuniformsGroup.__size = offset;\n\t\tuniformsGroup.__cache = {};\n\n\t\treturn this;\n\n\t}\n\n\tfunction getUniformSize( uniform ) {\n\n\t\tconst value = uniform.value;\n\n\t\tconst info = {\n\t\t\tboundary: 0, // bytes\n\t\t\tstorage: 0 // bytes\n\t\t};\n\n\t\t// determine sizes according to STD140\n\n\t\tif ( typeof value === 'number' ) {\n\n\t\t\t// float/int\n\n\t\t\tinfo.boundary = 4;\n\t\t\tinfo.storage = 4;\n\n\t\t} else if ( value.isVector2 ) {\n\n\t\t\t// vec2\n\n\t\t\tinfo.boundary = 8;\n\t\t\tinfo.storage = 8;\n\n\t\t} else if ( value.isVector3 || value.isColor ) {\n\n\t\t\t// vec3\n\n\t\t\tinfo.boundary = 16;\n\t\t\tinfo.storage = 12; // evil: vec3 must start on a 16-byte boundary but it only consumes 12 bytes\n\n\t\t} else if ( value.isVector4 ) {\n\n\t\t\t// vec4\n\n\t\t\tinfo.boundary = 16;\n\t\t\tinfo.storage = 16;\n\n\t\t} else if ( value.isMatrix3 ) {\n\n\t\t\t// mat3 (in STD140 a 3x3 matrix is represented as 3x4)\n\n\t\t\tinfo.boundary = 48;\n\t\t\tinfo.storage = 48;\n\n\t\t} else if ( value.isMatrix4 ) {\n\n\t\t\t// mat4\n\n\t\t\tinfo.boundary = 64;\n\t\t\tinfo.storage = 64;\n\n\t\t} else if ( value.isTexture ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.' );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Unsupported uniform value type.', value );\n\n\t\t}\n\n\t\treturn info;\n\n\t}\n\n\tfunction onUniformsGroupsDispose( event ) {\n\n\t\tconst uniformsGroup = event.target;\n\n\t\tuniformsGroup.removeEventListener( 'dispose', onUniformsGroupsDispose );\n\n\t\tconst index = allocatedBindingPoints.indexOf( uniformsGroup.__bindingPointIndex );\n\t\tallocatedBindingPoints.splice( index, 1 );\n\n\t\tgl.deleteBuffer( buffers[ uniformsGroup.id ] );\n\n\t\tdelete buffers[ uniformsGroup.id ];\n\t\tdelete updateList[ uniformsGroup.id ];\n\n\t}\n\n\tfunction dispose() {\n\n\t\tfor ( const id in buffers ) {\n\n\t\t\tgl.deleteBuffer( buffers[ id ] );\n\n\t\t}\n\n\t\tallocatedBindingPoints = [];\n\t\tbuffers = {};\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tbind: bind,\n\t\tupdate: update,\n\n\t\tdispose: dispose\n\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = createElementNS( 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters = {} ) {\n\n\tthis.isWebGLRenderer = true;\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet _alpha;\n\n\tif ( _context !== null ) {\n\n\t\t_alpha = _context.getContextAttributes().alpha;\n\n\t} else {\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false;\n\n\t}\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// transmission\n\n\tlet _transmissionRenderTarget = null;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector2 = new Vector2();\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: true,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// OffscreenCanvas does not have setAttribute, see #22811\n\t\tif ( 'setAttribute' in _canvas ) _canvas.setAttribute( 'data-engine', `three.js r${REVISION}` );\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t_canvas.addEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates, uniformsGroups;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\tinfo = new WebGLInfo();\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tcubeuvmaps = new WebGLCubeUVMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl, capabilities, textures );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( _this, properties );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, cubeuvmaps, state, objects, _alpha, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\t\tuniformsGroups = new WebGLUniformsGroups( _gl, info, capabilities, state );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color = true, depth = true, stencil = true ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color ) bits |= 16384;\n\t\tif ( depth ) bits |= 256;\n\t\tif ( stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t_canvas.removeEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tcubeuvmaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\t\tuniformsGroups.dispose();\n\t\tprogramCache.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tif ( _transmissionRenderTarget ) {\n\n\t\t\t_transmissionRenderTarget.dispose();\n\t\t\t_transmissionRenderTarget = null;\n\n\t\t}\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onContextCreationError( event ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: A WebGL context could not be created. Reason: ', event.statusMessage );\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t\tif ( material.isShaderMaterial ) {\n\n\t\t\t\tprogramCache.releaseShaderCache( material );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, geometry, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\t//\n\n\t\tconst drawRange = geometry.drawRange;\n\t\tconst position = geometry.attributes.position;\n\n\t\tlet drawStart = drawRange.start * rangeFactor;\n\t\tlet drawEnd = ( drawRange.start + drawRange.count ) * rangeFactor;\n\n\t\tif ( group !== null ) {\n\n\t\t\tdrawStart = Math.max( drawStart, group.start * rangeFactor );\n\t\t\tdrawEnd = Math.min( drawEnd, ( group.start + group.count ) * rangeFactor );\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tdrawStart = Math.max( drawStart, 0 );\n\t\t\tdrawEnd = Math.min( drawEnd, index.count );\n\n\t\t} else if ( position !== undefined && position !== null ) {\n\n\t\t\tdrawStart = Math.max( drawStart, 0 );\n\t\t\tdrawEnd = Math.min( drawEnd, position.count );\n\n\t\t}\n\n\t\tconst drawCount = drawEnd - drawStart;\n\n\t\tif ( drawCount < 0 || drawCount === Infinity ) return;\n\n\t\t//\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst maxInstanceCount = geometry._maxInstanceCount !== undefined ? geometry._maxInstanceCount : Infinity;\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tfunction prepare( material, scene, object ) {\n\n\t\t\tif ( material.transparent === true && material.side === DoubleSide ) {\n\n\t\t\t\tmaterial.side = BackSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\tmaterial.side = FrontSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\tmaterial.side = DoubleSide;\n\n\t\t\t} else {\n\n\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tprepare( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tprepare( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\trenderStateStack.pop();\n\t\tcurrentRenderState = null;\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof self !== 'undefined' ) animation.setContext( self );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.matrixWorldAutoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null && camera.matrixWorldAutoUpdate === true ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tif ( xr.cameraAutoUpdate === true ) xr.updateCamera( camera );\n\n\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene );\n\n\t\t// render scene\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tif ( camera.isArrayCamera ) {\n\n\t\t\tconst cameras = camera.cameras;\n\n\t\t\tfor ( let i = 0, l = cameras.length; i < l; i ++ ) {\n\n\t\t\t\tconst camera2 = cameras[ i ];\n\n\t\t\t\trenderScene( currentRenderList, scene, camera2, camera2.viewport );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderScene( currentRenderList, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderScene( currentRenderList, scene, camera, viewport ) {\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( transmissiveObjects.length > 0 ) renderTransmissionPass( opaqueObjects, scene, camera );\n\n\t\tif ( viewport ) state.viewport( _currentViewport.copy( viewport ) );\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transmissiveObjects.length > 0 ) renderObjects( transmissiveObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t}\n\n\tfunction renderTransmissionPass( opaqueObjects, scene, camera ) {\n\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\tif ( _transmissionRenderTarget === null ) {\n\n\t\t\t_transmissionRenderTarget = new WebGLRenderTarget( 1, 1, {\n\t\t\t\tgenerateMipmaps: true,\n\t\t\t\ttype: extensions.has( 'EXT_color_buffer_half_float' ) ? HalfFloatType : UnsignedByteType,\n\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\tsamples: ( isWebGL2 && _antialias === true ) ? 4 : 0\n\t\t\t} );\n\n\t\t}\n\n\t\t_this.getDrawingBufferSize( _vector2 );\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\t_transmissionRenderTarget.setSize( _vector2.x, _vector2.y );\n\n\t\t} else {\n\n\t\t\t_transmissionRenderTarget.setSize( floorPowerOfTwo( _vector2.x ), floorPowerOfTwo( _vector2.y ) );\n\n\t\t}\n\n\t\t//\n\n\t\tconst currentRenderTarget = _this.getRenderTarget();\n\t\t_this.setRenderTarget( _transmissionRenderTarget );\n\t\t_this.clear();\n\n\t\t// Turn off the features which can affect the frag color for opaque objects pass.\n\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\t\tconst currentToneMapping = _this.toneMapping;\n\t\t_this.toneMapping = NoToneMapping;\n\n\t\trenderObjects( opaqueObjects, scene, camera );\n\n\t\t_this.toneMapping = currentToneMapping;\n\n\t\ttextures.updateMultisampleRenderTarget( _transmissionRenderTarget );\n\t\ttextures.updateRenderTargetMipmap( _transmissionRenderTarget );\n\n\t\t_this.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( object.layers.test( camera.layers ) ) {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tmaterial.onBeforeRender( _this, scene, camera, geometry, object, group );\n\n\t\tif ( material.transparent === true && material.side === DoubleSide ) {\n\n\t\t\tmaterial.side = BackSide;\n\t\t\tmaterial.needsUpdate = true;\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\tmaterial.side = FrontSide;\n\t\t\tmaterial.needsUpdate = true;\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\tmaterial.side = DoubleSide;\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( object, parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotLightMatrix.value = lights.state.spotLightMatrix;\n\t\t\tuniforms.spotLightMap.value = lights.state.spotLightMap;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.skinning = parameters.skinning;\n\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\tmaterialProperties.morphColors = parameters.morphColors;\n\t\tmaterialProperties.morphTargetsCount = parameters.morphTargetsCount;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\t\tmaterialProperties.toneMapping = parameters.toneMapping;\n\n\t}\n\n\tfunction setProgram( camera, scene, geometry, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : ( _currentRenderTarget.isXRRenderTarget === true ? _currentRenderTarget.texture.encoding : LinearEncoding );\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4;\n\t\tconst vertexTangents = !! material.normalMap && !! geometry.attributes.tangent;\n\t\tconst morphTargets = !! geometry.morphAttributes.position;\n\t\tconst morphNormals = !! geometry.morphAttributes.normal;\n\t\tconst morphColors = !! geometry.morphAttributes.color;\n\t\tconst toneMapping = material.toneMapped ? _this.toneMapping : NoToneMapping;\n\n\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isSkinnedMesh && materialProperties.skinning === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isSkinnedMesh && materialProperties.skinning === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog === true && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexTangents !== vertexTangents ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphTargets !== morphTargets ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphNormals !== morphNormals ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphColors !== morphColors ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.toneMapping !== toneMapping ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( capabilities.isWebGL2 === true && materialProperties.morphTargetsCount !== morphTargetsCount ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tobject.isSkinnedMesh ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning and morph target uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone and morph texture must go before other textures\n\t\t// otherwise textures used for skinning and morphing can take over texture units reserved for other material textures\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) skeleton.computeBoneTexture();\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tif ( morphAttributes.position !== undefined || morphAttributes.normal !== undefined || ( morphAttributes.color !== undefined && capabilities.isWebGL2 === true ) ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\t// https://github.com/mrdoob/three.js/pull/24467#issuecomment-1209031512\n\n\t\tif ( material.isMeshGouraudMaterial && material.envMap !== null ) {\n\n\t\t\tm_uniforms.envMap.value = envMap;\n\n\t\t\tm_uniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog === true ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\t// UBOs\n\n\t\tif ( material.isShaderMaterial || material.isRawShaderMaterial ) {\n\n\t\t\tconst groups = material.uniformsGroups;\n\n\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\t\tuniformsGroups.update( group, program );\n\t\t\t\t\tuniformsGroups.bind( group, program );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTargetTextures = function ( renderTarget, colorTexture, depthTexture ) {\n\n\t\tproperties.get( renderTarget.texture ).__webglTexture = colorTexture;\n\t\tproperties.get( renderTarget.depthTexture ).__webglTexture = depthTexture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\trenderTargetProperties.__hasExternalTextures = true;\n\n\t\tif ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\trenderTargetProperties.__autoAllocateDepthBuffer = depthTexture === undefined;\n\n\t\t\tif ( ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\t\t// The multisample_render_to_texture extension doesn't work properly if there\n\t\t\t\t// are midframe flushes and an external depth buffer. Disable use of the extension.\n\t\t\t\tif ( extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided' );\n\t\t\t\t\trenderTargetProperties.__useRenderToTexture = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.setRenderTargetFramebuffer = function ( renderTarget, defaultFramebuffer ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\trenderTargetProperties.__webglFramebuffer = defaultFramebuffer;\n\t\trenderTargetProperties.__useDefaultFramebuffer = defaultFramebuffer === undefined;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tlet useDefaultFramebuffer = true;\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\tif ( renderTargetProperties.__useDefaultFramebuffer !== undefined ) {\n\n\t\t\t\t// We need to make sure to rebind the framebuffer.\n\t\t\t\tstate.bindFramebuffer( 36160, null );\n\t\t\t\tuseDefaultFramebuffer = false;\n\n\t\t\t} else if ( renderTargetProperties.__webglFramebuffer === undefined ) {\n\n\t\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t\t} else if ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\t\t// Color and depth texture must be rebound in order for the swapchain to update.\n\t\t\t\ttextures.rebindTextures( renderTarget, properties.get( renderTarget.texture ).__webglTexture, properties.get( renderTarget.depthTexture ).__webglTexture );\n\n\t\t\t}\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isData3DTexture || texture.isDataArrayTexture || texture.isCompressedArrayTexture ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( ( capabilities.isWebGL2 && renderTarget.samples > 0 ) && textures.useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tconst framebufferBound = state.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( framebufferBound && capabilities.drawBuffers && useDefaultFramebuffer ) {\n\n\t\t\tstate.drawBuffers( renderTarget, framebuffer );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t\t_currentMaterialId = - 1; // reset current material to ensure correct uniform bindings\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexSubImage2D( 3553, level, 0, 0, position.x, position.y, width, height );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isData3DTexture ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataArrayTexture ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[ 0 ] : srcTexture.image;\n\n\t\t_gl.pixelStorei( 3314, image.width );\n\t\t_gl.pixelStorei( 32878, image.height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\tif ( srcTexture.isDataTexture || srcTexture.isData3DTexture ) {\n\n\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedArrayTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.' );\n\t\t\t\t_gl.compressedTexSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\ttextures.setTextureCube( texture, 0 );\n\n\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\ttextures.setTexture3D( texture, 0 );\n\n\t\t} else if ( texture.isDataArrayTexture || texture.isCompressedArrayTexture ) {\n\n\t\t\ttextures.setTexture2DArray( texture, 0 );\n\n\t\t} else {\n\n\t\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t}\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.isFogExp2 = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.isFog = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isScene = true;\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.backgroundBlurriness = 0;\n\t\tthis.backgroundIntensity = 1;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tthis.backgroundBlurriness = source.backgroundBlurriness;\n\t\tthis.backgroundIntensity = source.backgroundIntensity;\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\t\tif ( this.backgroundBlurriness > 0 ) data.backgroundBlurriness = this.backgroundBlurriness;\n\t\tif ( this.backgroundIntensity !== 1 ) data.backgroundIntensity = this.backgroundIntensity;\n\n\t\treturn data;\n\n\t}\n\n\t// @deprecated\n\n\tget autoUpdate() {\n\n\t\tconsole.warn( 'THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.' );\n\t\treturn this.matrixWorldAutoUpdate;\n\n\t}\n\n\tset autoUpdate( value ) {\n\n\t\tconsole.warn( 'THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.' );\n\t\tthis.matrixWorldAutoUpdate = value;\n\n\t}\n\n}\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.isInterleavedBuffer = true;\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new this.constructor( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.from( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nconst _vector$6 = /*@__PURE__*/ new Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized = false ) {\n\n\t\tthis.isInterleavedBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = this.data.array[ index * this.data.stride + this.offset ];\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// de-interleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interleaved attribute\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isSpriteMaterial = true;\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.isSprite = true;\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance, level.hysteresis );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0, hysteresis = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, hysteresis: hysteresis, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tlet levelDistance = levels[ i ].distance;\n\n\t\t\t\tif ( levels[ i ].object.visible ) {\n\n\t\t\t\t\tlevelDistance -= levelDistance * levels[ i ].hysteresis;\n\n\t\t\t\t}\n\n\t\t\t\tif ( distance < levelDistance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tlet levelDistance = levels[ i ].distance;\n\n\t\t\t\tif ( levels[ i ].object.visible ) {\n\n\t\t\t\t\tlevelDistance -= levelDistance * levels[ i ].hysteresis;\n\n\t\t\t\t}\n\n\t\t\t\tif ( distance >= levelDistance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance,\n\t\t\t\thysteresis: level.hysteresis\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkinnedMesh = true;\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.fromBufferAttribute( skinWeight, i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.copy( target ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBone = true;\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nclass DataTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isDataTexture = true;\n\n\t\tthis.image = { data: data, width: width, height: height };\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tcomputeBoneTexture() {\n\n\t\t// layout (1 matrix = 4 pixels)\n\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\t\tlet size = Math.sqrt( this.bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\tsize = ceilPowerOfTwo( size );\n\t\tsize = Math.max( size, 4 );\n\n\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\tboneMatrices.set( this.boneMatrices ); // copy current values\n\n\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\tboneTexture.needsUpdate = true;\n\n\t\tthis.boneMatrices = boneMatrices;\n\t\tthis.boneTexture = boneTexture;\n\t\tthis.boneTextureSize = size;\n\n\t\treturn this;\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.isInstancedBufferAttribute = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _identity = /*@__PURE__*/ new Matrix4();\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isInstancedMesh = true;\n\n\t\tthis.instanceMatrix = new InstancedBufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.setMatrixAt( i, _identity );\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new InstancedBufferAttribute( new Float32Array( this.instanceMatrix.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineBasicMaterial = true;\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isLine = true;\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tconst a = index.getX( i );\n\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineSegments = true;\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [];\n\n\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineLoop = true;\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isPointsMaterial = true;\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isPoints = true;\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isVideoTexture = true;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nclass FramebufferTexture extends Texture {\n\n\tconstructor( width, height, format ) {\n\n\t\tsuper( { width, height } );\n\n\t\tthis.isFramebufferTexture = true;\n\n\t\tthis.format = format;\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCompressedTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nclass CompressedArrayTexture extends CompressedTexture {\n\n\tconstructor( mipmaps, width, height, depth, format, type ) {\n\n\t\tsuper( mipmaps, width, height, format, type );\n\n\t\tthis.isCompressedArrayTexture = true;\n\t\tthis.image.depth = depth;\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t}\n\n}\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isCanvasTexture = true;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.isEllipseCurve = true;\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.isArcCurve = true;\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = /*@__PURE__*/ new Vector3();\nconst px = /*@__PURE__*/ new CubicPoly();\nconst py = /*@__PURE__*/ new CubicPoly();\nconst pz = /*@__PURE__*/ new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.isCatmullRomCurve3 = true;\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Bezier Curves formulas obtained from\n * https://en.wikipedia.org/wiki/B%C3%A9zier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve = true;\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve3 = true;\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve = true;\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.type = 'LineCurve3';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve = true;\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve3 = true;\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isSplineCurve = true;\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u, optionalTarget );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = curve.isEllipseCurve ? divisions * 2\n\t\t\t\t: ( curve.isLineCurve || curve.isLineCurve3 ) ? 1\n\t\t\t\t\t: curve.isSplineCurve ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points = [ new Vector2( 0, - 0.5 ), new Vector2( 0.5, 0 ), new Vector2( 0, 0.5 ) ], segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\t\tconst initNormals = [];\n\t\tconst normals = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tconst normal = new Vector3();\n\t\tconst curNormal = new Vector3();\n\t\tconst prevNormal = new Vector3();\n\t\tlet dx = 0;\n\t\tlet dy = 0;\n\n\t\t// pre-compute normals for initial \"meridian\"\n\n\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\tswitch ( j ) {\n\n\t\t\t\tcase 0:\t\t\t\t// special handling for 1st vertex on path\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tprevNormal.copy( normal );\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ( points.length - 1 ):\t// special handling for last Vertex on path\n\n\t\t\t\t\tinitNormals.push( prevNormal.x, prevNormal.y, prevNormal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\t\t\t// default handling for all vertices in between\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tcurNormal.copy( normal );\n\n\t\t\t\t\tnormal.x += prevNormal.x;\n\t\t\t\t\tnormal.y += prevNormal.y;\n\t\t\t\t\tnormal.z += prevNormal.z;\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tprevNormal.copy( curNormal );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices, uvs and normals\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// normal\n\n\t\t\t\tconst x = initNormals[ 3 * j + 0 ] * sin;\n\t\t\t\tconst y = initNormals[ 3 * j + 1 ];\n\t\t\t\tconst z = initNormals[ 3 * j + 0 ] * cos;\n\n\t\t\t\tnormals.push( x, y, z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( c, d, b );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new LatheGeometry( data.points, data.segments, data.phiStart, data.phiLength );\n\n\t}\n\n}\n\nclass CapsuleGeometry extends LatheGeometry {\n\n\tconstructor( radius = 1, length = 1, capSegments = 4, radialSegments = 8 ) {\n\n\t\tconst path = new Path();\n\t\tpath.absarc( 0, - length / 2, radius, Math.PI * 1.5, 0 );\n\t\tpath.absarc( 0, length / 2, radius, 0, Math.PI * 0.5 );\n\n\t\tsuper( path.getPoints( capSegments ), radialSegments );\n\n\t\tthis.type = 'CapsuleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: length,\n\t\t\tcapSegments: capSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CapsuleGeometry( data.radius, data.length, data.capSegments, data.radialSegments );\n\n\t}\n\n}\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CircleGeometry( data.radius, data.segments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CylinderGeometry( data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new ConeGeometry( data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices = [], indices = [], radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivision with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PolyhedronGeometry( data.vertices, data.indices, data.radius, data.details );\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (1, 1, 1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, 1/, )\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (1/, , 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (, 0, 1/)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new DodecahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1$1 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\nconst _triangle = /*@__PURE__*/ new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null, thresholdAngle = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry,\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\tconst precisionPoints = 4;\n\t\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\t\tconst indexAttr = geometry.getIndex();\n\t\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\t\tconst indexArr = [ 0, 0, 0 ];\n\t\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\t\tconst hashes = new Array( 3 );\n\n\t\t\tconst edgeData = {};\n\t\t\tconst vertices = [];\n\t\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\t\tif ( indexAttr ) {\n\n\t\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t\t}\n\n\t\t\t\tconst { a, b, c } = _triangle;\n\t\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t\t// create hashes for the edge from the vertices\n\t\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t\t// skip degenerate triangles\n\t\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// iterate over every edge\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\t\tfor ( const key in edgeData ) {\n\n\t\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.4)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim = 2 ) {\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 32767 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize, 0 );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim | 0 );\n\t\t\ttriangles.push( ear.i / dim | 0 );\n\t\t\ttriangles.push( next.i / dim | 0 );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tconst ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst x0 = ax < bx ? ( ax < cx ? ax : cx ) : ( bx < cx ? bx : cx ),\n\t\ty0 = ay < by ? ( ay < cy ? ay : cy ) : ( by < cy ? by : cy ),\n\t\tx1 = ax > bx ? ( ax > cx ? ax : cx ) : ( bx > cx ? bx : cx ),\n\t\ty1 = ay > by ? ( ay > cy ? ay : cy ) : ( by > cy ? by : cy );\n\n\tlet p = c.next;\n\twhile ( p !== a ) {\n\n\t\tif ( p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\tconst ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst x0 = ax < bx ? ( ax < cx ? ax : cx ) : ( bx < cx ? bx : cx ),\n\t\ty0 = ay < by ? ( ay < cy ? ay : cy ) : ( by < cy ? by : cy ),\n\t\tx1 = ax > bx ? ( ax > cx ? ax : cx ) : ( bx > cx ? bx : cx ),\n\t\ty1 = ay > by ? ( ay > cy ? ay : cy ) : ( by > cy ? by : cy );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( x0, y0, minX, minY, invSize ),\n\t\tmaxZ = zOrder( x1, y1, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, n.x, n.y ) && area( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n\t\t\tpointInTriangle( ax, ay, bx, by, cx, cy, n.x, n.y ) && area( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim | 0 );\n\t\t\ttriangles.push( p.i / dim | 0 );\n\t\t\ttriangles.push( b.i / dim | 0 );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize, 0 );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize, 0 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\touterNode = eliminateHole( queue[ i ], outerNode );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\tconst bridge = findHoleBridge( hole, outerNode );\n\tif ( ! bridge ) {\n\n\t\treturn outerNode;\n\n\t}\n\n\tconst bridgeReverse = splitPolygon( bridge, hole );\n\n\t// filter collinear points around the cuts\n\tfilterPoints( bridgeReverse, bridgeReverse.next );\n\treturn filterPoints( bridge, bridge.next );\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode,\n\t\tqx = - Infinity,\n\t\tm;\n\n\tconst hx = hole.x, hy = hole.y;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\t\t\t\tif ( x === hx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === 0 ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = ( x - minX ) * invSize | 0;\n\ty = ( y - minY ) * invSize | 0;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) >= ( ax - px ) * ( cy - py ) &&\n           ( ax - px ) * ( by - py ) >= ( bx - px ) * ( ay - py ) &&\n           ( bx - px ) * ( cy - py ) >= ( cx - px ) * ( by - py );\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n           ( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n            ( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n            equals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = 0;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0.5, 0.5 ), new Vector2( - 0.5, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tconst depth = options.depth !== undefined ? options.depth : 1;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 0.2;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 0.1;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\tconst extrudePath = data.options.extrudePath;\n\n\t\tif ( extrudePath !== undefined ) {\n\n\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t}\n\n\t\treturn new ExtrudeGeometry( geometryShapes, data.options );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < Math.abs( a_x - b_x ) ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tdata.options = Object.assign( {}, options );\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new IcosahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new OctahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new RingGeometry( data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), curveSegments = 12 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\treturn new ShapeGeometry( geometryShapes, data.curveSegments );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new SphereGeometry( data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TetrahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusGeometry( data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segment\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectors, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusKnotGeometry( data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q );\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path = new QuadraticBezierCurve3( new Vector3( - 1, - 1, 0 ), new Vector3( - 1, 1, 0 ), new Vector3( 1, 1, 0 ) ), tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\treturn new TubeGeometry(\n\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\tdata.tubularSegments,\n\t\t\tdata.radius,\n\t\t\tdata.radialSegments,\n\t\t\tdata.closed\n\t\t);\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\t// buffer\n\n\t\t\tconst vertices = [];\n\t\t\tconst edges = new Set();\n\n\t\t\t// helper variables\n\n\t\t\tconst start = new Vector3();\n\t\t\tconst end = new Vector3();\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst indices = geometry.index;\n\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t\t}\n\n\t\t\t\t// create a data structure that contains all edges without duplicates\n\n\t\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\t\tconst groupStart = group.start;\n\t\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\t\tfor ( let i = groupStart, l = ( groupStart + groupCount ); i < l; i += 3 ) {\n\n\t\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\tconst index1 = indices.getX( i + j );\n\t\t\t\t\t\t\tconst index2 = indices.getX( i + ( j + 1 ) % 3 );\n\n\t\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\n\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n}\n\nfunction isUniqueEdge( start, end, edges ) {\n\n\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\tif ( edges.has( hash1 ) === true || edges.has( hash2 ) === true ) {\n\n\t\treturn false;\n\n\t} else {\n\n\t\tedges.add( hash1 );\n\t\tedges.add( hash2 );\n\t\treturn true;\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tCapsuleGeometry: CapsuleGeometry,\n\tCircleGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShadowMaterial = true;\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.isRawShaderMaterial = true;\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshStandardMaterial = true;\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhysicalMaterial = true;\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.ior = 1.5;\n\n\t\tObject.defineProperty( this, 'reflectivity', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( clamp( 2.5 * ( this.ior - 1 ) / ( this.ior + 1 ), 0, 1 ) );\n\n\t\t\t},\n\t\t\tset: function ( reflectivity ) {\n\n\t\t\t\tthis.ior = ( 1 + 0.4 * reflectivity ) / ( 1 - 0.4 * reflectivity );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.iridescenceMap = null;\n\t\tthis.iridescenceIOR = 1.3;\n\t\tthis.iridescenceThicknessRange = [ 100, 400 ];\n\t\tthis.iridescenceThicknessMap = null;\n\n\t\tthis.sheenColor = new Color( 0x000000 );\n\t\tthis.sheenColorMap = null;\n\t\tthis.sheenRoughness = 1.0;\n\t\tthis.sheenRoughnessMap = null;\n\n\t\tthis.transmissionMap = null;\n\n\t\tthis.thickness = 0;\n\t\tthis.thicknessMap = null;\n\t\tthis.attenuationDistance = Infinity;\n\t\tthis.attenuationColor = new Color( 1, 1, 1 );\n\n\t\tthis.specularIntensity = 1.0;\n\t\tthis.specularIntensityMap = null;\n\t\tthis.specularColor = new Color( 1, 1, 1 );\n\t\tthis.specularColorMap = null;\n\n\t\tthis._sheen = 0.0;\n\t\tthis._clearcoat = 0;\n\t\tthis._iridescence = 0;\n\t\tthis._transmission = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tget sheen() {\n\n\t\treturn this._sheen;\n\n\t}\n\n\tset sheen( value ) {\n\n\t\tif ( this._sheen > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._sheen = value;\n\n\t}\n\n\tget clearcoat() {\n\n\t\treturn this._clearcoat;\n\n\t}\n\n\tset clearcoat( value ) {\n\n\t\tif ( this._clearcoat > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._clearcoat = value;\n\n\t}\n\n\tget iridescence() {\n\n\t\treturn this._iridescence;\n\n\t}\n\n\tset iridescence( value ) {\n\n\t\tif ( this._iridescence > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._iridescence = value;\n\n\t}\n\n\tget transmission() {\n\n\t\treturn this._transmission;\n\n\t}\n\n\tset transmission( value ) {\n\n\t\tif ( this._transmission > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._transmission = value;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.ior = source.ior;\n\n\t\tthis.iridescence = source.iridescence;\n\t\tthis.iridescenceMap = source.iridescenceMap;\n\t\tthis.iridescenceIOR = source.iridescenceIOR;\n\t\tthis.iridescenceThicknessRange = [ ...source.iridescenceThicknessRange ];\n\t\tthis.iridescenceThicknessMap = source.iridescenceThicknessMap;\n\n\t\tthis.sheen = source.sheen;\n\t\tthis.sheenColor.copy( source.sheenColor );\n\t\tthis.sheenColorMap = source.sheenColorMap;\n\t\tthis.sheenRoughness = source.sheenRoughness;\n\t\tthis.sheenRoughnessMap = source.sheenRoughnessMap;\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\tthis.thickness = source.thickness;\n\t\tthis.thicknessMap = source.thicknessMap;\n\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\tthis.attenuationColor.copy( source.attenuationColor );\n\n\t\tthis.specularIntensity = source.specularIntensity;\n\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\tthis.specularColor.copy( source.specularColor );\n\t\tthis.specularColorMap = source.specularColorMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhongMaterial = true;\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshToonMaterial = true;\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshNormalMaterial = true;\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshLambertMaterial = true;\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshMatcapMaterial = true;\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineDashedMaterial = true;\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\n// same as Array.prototype.slice, but also works on typed arrays\nfunction arraySlice( array, from, to ) {\n\n\tif ( isTypedArray( array ) ) {\n\n\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t}\n\n\treturn array.slice( from, to );\n\n}\n\n// converts an array to a specific type\nfunction convertArray( array, type, forceClone ) {\n\n\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t! forceClone && array.constructor === type ) return array;\n\n\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\treturn new type( array ); // create typed array\n\n\t}\n\n\treturn Array.prototype.slice.call( array ); // create Array\n\n}\n\nfunction isTypedArray( object ) {\n\n\treturn ArrayBuffer.isView( object ) &&\n\t\t! ( object instanceof DataView );\n\n}\n\n// returns an array by which times and values can be sorted\nfunction getKeyframeOrder( times ) {\n\n\tfunction compareTime( i, j ) {\n\n\t\treturn times[ i ] - times[ j ];\n\n\t}\n\n\tconst n = times.length;\n\tconst result = new Array( n );\n\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\tresult.sort( compareTime );\n\n\treturn result;\n\n}\n\n// uses the array previously returned by 'getKeyframeOrder' to sort data\nfunction sortedArray( values, stride, order ) {\n\n\tconst nValues = values.length;\n\tconst result = new values.constructor( nValues );\n\n\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\tconst srcOffset = order[ i ] * stride;\n\n\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t}\n\n\t}\n\n\treturn result;\n\n}\n\n// function for parsing AOS keyframe formats\nfunction flattenJSON( jsonKeys, times, values, valuePropertyName ) {\n\n\tlet i = 1, key = jsonKeys[ 0 ];\n\n\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\tkey = jsonKeys[ i ++ ];\n\n\t}\n\n\tif ( key === undefined ) return; // no data\n\n\tlet value = key[ valuePropertyName ];\n\tif ( value === undefined ) return; // no data\n\n\tif ( Array.isArray( value ) ) {\n\n\t\tdo {\n\n\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\ttimes.push( key.time );\n\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t}\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t} while ( key !== undefined );\n\n\t} else if ( value.toArray !== undefined ) {\n\n\t\t// ...assume THREE.Math-ish\n\n\t\tdo {\n\n\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\ttimes.push( key.time );\n\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t}\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t} while ( key !== undefined );\n\n\t} else {\n\n\t\t// otherwise push as-is\n\n\t\tdo {\n\n\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\ttimes.push( key.time );\n\t\t\t\tvalues.push( value );\n\n\t\t\t}\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t} while ( key !== undefined );\n\n\t}\n\n}\n\nfunction subclip( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\tconst clip = sourceClip.clone();\n\n\tclip.name = name;\n\n\tconst tracks = [];\n\n\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\tconst track = clip.tracks[ i ];\n\t\tconst valueSize = track.getValueSize();\n\n\t\tconst times = [];\n\t\tconst values = [];\n\n\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( times.length === 0 ) continue;\n\n\t\ttrack.times = convertArray( times, track.times.constructor );\n\t\ttrack.values = convertArray( values, track.values.constructor );\n\n\t\ttracks.push( track );\n\n\t}\n\n\tclip.tracks = tracks;\n\n\t// find minimum .times value across all tracks in the trimmed clip\n\n\tlet minStartTime = Infinity;\n\n\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t}\n\n\t}\n\n\t// shift all tracks such that clip begins at t=0\n\n\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t}\n\n\tclip.resetDuration();\n\n\treturn clip;\n\n}\n\nfunction makeClipAdditive( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\tif ( fps <= 0 ) fps = 30;\n\n\tconst numTracks = referenceClip.tracks.length;\n\tconst referenceTime = referenceFrame / fps;\n\n\t// Make each track's values relative to the values at the reference frame\n\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t// Skip this track if it's non-numeric\n\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t} );\n\n\t\tif ( targetTrack === undefined ) continue;\n\n\t\tlet referenceOffset = 0;\n\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t}\n\n\t\tlet targetOffset = 0;\n\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t}\n\n\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\tlet referenceValue;\n\n\t\t// Find the value to subtract out of the track\n\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\tconst startIndex = referenceOffset;\n\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\treferenceValue = arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\treferenceValue = arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t} else {\n\n\t\t\t// Interpolate to the reference value\n\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\tconst startIndex = referenceOffset;\n\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\treferenceValue = arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t}\n\n\t\t// Conjugate the quaternion\n\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t}\n\n\t\t// Subtract the reference value from all of the track values\n\n\t\tconst numTimes = targetTrack.times.length;\n\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\tvalueStart,\n\t\t\t\t\treferenceValue,\n\t\t\t\t\t0,\n\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\tvalueStart\n\t\t\t\t);\n\n\t\t\t} else {\n\n\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\treturn targetClip;\n\n}\n\nvar AnimationUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tarraySlice: arraySlice,\n\tconvertArray: convertArray,\n\tisTypedArray: isTypedArray,\n\tgetKeyframeOrder: getKeyframeOrder,\n\tsortedArray: sortedArray,\n\tflattenJSON: flattenJSON,\n\tsubclip: subclip,\n\tmakeClipAdditive: makeClipAdditive\n});\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = convertArray( times, this.TimeBufferType );\n\t\tthis.values = convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': convertArray( track.times, Array ),\n\t\t\t\t'values': convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = arraySlice( times, from, to );\n\t\t\tthis.values = arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = arraySlice( this.times ),\n\t\t\tvalues = arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = arraySlice( this.times, 0 );\n\t\tconst values = arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = getKeyframeOrder( times );\n\t\t\ttimes = sortedArray( times, 1, order );\n\t\t\tvalues = sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tflattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * fps;\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tflattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = /*@__PURE__*/ new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass HttpError extends Error {\n\n\tconstructor( message, response ) {\n\n\t\tsuper( message );\n\t\tthis.response = response;\n\n\t}\n\n}\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tthis.manager.itemStart( url );\n\n\t\t\tsetTimeout( () => {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Initialise array for duplicate requests\n\t\tloading[ url ] = [];\n\n\t\tloading[ url ].push( {\n\t\t\tonLoad: onLoad,\n\t\t\tonProgress: onProgress,\n\t\t\tonError: onError,\n\t\t} );\n\n\t\t// create request\n\t\tconst req = new Request( url, {\n\t\t\theaders: new Headers( this.requestHeader ),\n\t\t\tcredentials: this.withCredentials ? 'include' : 'same-origin',\n\t\t\t// An abort controller could be added within a future PR\n\t\t} );\n\n\t\t// record states ( avoid data race )\n\t\tconst mimeType = this.mimeType;\n\t\tconst responseType = this.responseType;\n\n\t\t// start the fetch\n\t\tfetch( req )\n\t\t\t.then( response => {\n\n\t\t\t\tif ( response.status === 200 || response.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( response.status === 0 ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Workaround: Checking if response.body === undefined for Alipay browser #23548\n\n\t\t\t\t\tif ( typeof ReadableStream === 'undefined' || response.body === undefined || response.body.getReader === undefined ) {\n\n\t\t\t\t\t\treturn response;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\t\tconst reader = response.body.getReader();\n\n\t\t\t\t\t// Nginx needs X-File-Size check\n\t\t\t\t\t// https://serverfault.com/questions/482875/why-does-nginx-remove-content-length-header-for-chunked-content\n\t\t\t\t\tconst contentLength = response.headers.get( 'Content-Length' ) || response.headers.get( 'X-File-Size' );\n\t\t\t\t\tconst total = contentLength ? parseInt( contentLength ) : 0;\n\t\t\t\t\tconst lengthComputable = total !== 0;\n\t\t\t\t\tlet loaded = 0;\n\n\t\t\t\t\t// periodically read data into the new stream tracking while download progress\n\t\t\t\t\tconst stream = new ReadableStream( {\n\t\t\t\t\t\tstart( controller ) {\n\n\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\tfunction readData() {\n\n\t\t\t\t\t\t\t\treader.read().then( ( { done, value } ) => {\n\n\t\t\t\t\t\t\t\t\tif ( done ) {\n\n\t\t\t\t\t\t\t\t\t\tcontroller.close();\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\tloaded += value.byteLength;\n\n\t\t\t\t\t\t\t\t\t\tconst event = new ProgressEvent( 'progress', { lengthComputable, loaded, total } );\n\t\t\t\t\t\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\t\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcontroller.enqueue( value );\n\t\t\t\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn new Response( stream );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new HttpError( `fetch for \"${response.url}\" responded with ${response.status}: ${response.statusText}`, response );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( response => {\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\n\t\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\treturn response.blob();\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\treturn response.text()\n\t\t\t\t\t\t\t.then( text => {\n\n\t\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\t\treturn parser.parseFromString( text, mimeType );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\treturn response.json();\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( mimeType === undefined ) {\n\n\t\t\t\t\t\t\treturn response.text();\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// sniff encoding\n\t\t\t\t\t\t\tconst re = /charset=\"?([^;\"\\s]*)\"?/i;\n\t\t\t\t\t\t\tconst exec = re.exec( mimeType );\n\t\t\t\t\t\t\tconst label = exec && exec[ 1 ] ? exec[ 1 ].toLowerCase() : undefined;\n\t\t\t\t\t\t\tconst decoder = new TextDecoder( label );\n\t\t\t\t\t\t\treturn response.arrayBuffer().then( ab => decoder.decode( ab ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( data => {\n\n\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\tCache.add( url, data );\n\n\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( data );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.catch( err => {\n\n\t\t\t\t// Abort errors and other errors are handled the same\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tif ( callbacks === undefined ) {\n\n\t\t\t\t\t// When onLoad was called and url was deleted in `loading`\n\t\t\t\t\tthis.manager.itemError( url );\n\t\t\t\t\tthrow err;\n\n\t\t\t\t}\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( err );\n\n\t\t\t\t}\n\n\t\t\t\tthis.manager.itemError( url );\n\n\t\t\t} )\n\t\t\t.finally( () => {\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\tthis.manager.itemStart( url );\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = createElementNS( 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction removeEventListeners() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.slice( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.isLight = true;\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.isHemisphereLight = true;\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\t\tthis.blurSamples = 8;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( _projScreenMatrix$1 );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.isSpotLightShadow = true;\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 2 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isSpotLight = true;\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay;\n\n\t\tthis.map = null;\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// by convention for a spotlight, luminous power (lm) =  * luminous intensity (cd)\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis.isPointLightShadow = true;\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 2 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isPointLight = true;\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay;\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// for an isotropic light source, luminous power (lm) = 4  luminous intensity (cd)\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t\tthis.isDirectionalLightShadow = true;\n\n\t}\n\n}\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isDirectionalLight = true;\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isAmbientLight = true;\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isRectAreaLight = true;\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in nits)\n\t\treturn this.intensity * this.width * this.height * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in nits) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( this.width * this.height * Math.PI );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.isSphericalHarmonics3 = true;\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); //  * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 *  / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // (  / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // (  / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // (  / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isLightProbe = true;\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = MaterialLoader.createMaterialFromType( json.type );\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = json.sheen;\n\t\tif ( json.sheenColor !== undefined ) material.sheenColor = new Color().setHex( json.sheenColor );\n\t\tif ( json.sheenRoughness !== undefined ) material.sheenRoughness = json.sheenRoughness;\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.specularIntensity !== undefined ) material.specularIntensity = json.specularIntensity;\n\t\tif ( json.specularColor !== undefined && material.specularColor !== undefined ) material.specularColor.setHex( json.specularColor );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.iridescence !== undefined ) material.iridescence = json.iridescence;\n\t\tif ( json.iridescenceIOR !== undefined ) material.iridescenceIOR = json.iridescenceIOR;\n\t\tif ( json.iridescenceThicknessRange !== undefined ) material.iridescenceThicknessRange = json.iridescenceThicknessRange;\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.thickness !== undefined ) material.thickness = json.thickness;\n\t\tif ( json.attenuationDistance !== undefined ) material.attenuationDistance = json.attenuationDistance;\n\t\tif ( json.attenuationColor !== undefined && material.attenuationColor !== undefined ) material.attenuationColor.setHex( json.attenuationColor );\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\t\tif ( json.glslVersion !== undefined ) material.glslVersion = json.glslVersion;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\t\tif ( json.specularIntensityMap !== undefined ) material.specularIntensityMap = getTexture( json.specularIntensityMap );\n\t\tif ( json.specularColorMap !== undefined ) material.specularColorMap = getTexture( json.specularColorMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.iridescenceMap !== undefined ) material.iridescenceMap = getTexture( json.iridescenceMap );\n\t\tif ( json.iridescenceThicknessMap !== undefined ) material.iridescenceThicknessMap = getTexture( json.iridescenceThicknessMap );\n\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\t\tif ( json.thicknessMap !== undefined ) material.thicknessMap = getTexture( json.thicknessMap );\n\n\t\tif ( json.sheenColorMap !== undefined ) material.sheenColorMap = getTexture( json.sheenColorMap );\n\t\tif ( json.sheenRoughnessMap !== undefined ) material.sheenRoughnessMap = getTexture( json.sheenRoughnessMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n\tstatic createMaterialFromType( type ) {\n\n\t\tconst materialLib = {\n\t\t\tShadowMaterial,\n\t\t\tSpriteMaterial,\n\t\t\tRawShaderMaterial,\n\t\t\tShaderMaterial,\n\t\t\tPointsMaterial,\n\t\t\tMeshPhysicalMaterial,\n\t\t\tMeshStandardMaterial,\n\t\t\tMeshPhongMaterial,\n\t\t\tMeshToonMaterial,\n\t\t\tMeshNormalMaterial,\n\t\t\tMeshLambertMaterial,\n\t\t\tMeshDepthMaterial,\n\t\t\tMeshDistanceMaterial,\n\t\t\tMeshBasicMaterial,\n\t\t\tMeshMatcapMaterial,\n\t\t\tLineDashedMaterial,\n\t\t\tLineBasicMaterial,\n\t\t\tMaterial\n\t\t};\n\n\t\treturn new materialLib[ type ]();\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.slice( 0, index + 1 );\n\n\t}\n\n\tstatic resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isInstancedBufferGeometry = true;\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( new Error( 'THREE.ObjectLoader: Can\\'t load ' + url ) );\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tasync loadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tconst text = await loader.loadAsync( url, onProgress );\n\n\t\tconst json = JSON.parse( text );\n\n\t\tconst metadata = json.metadata;\n\n\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\tthrow new Error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\n\t\t}\n\n\t\treturn await scope.parseAsync( json );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ].data instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tasync parseAsync( json ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = await this.parseImagesAsync( json.images );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( data.type in Geometries ) {\n\n\t\t\t\t\t\t\tgeometry = Geometries[ data.type ].fromJSON( data, shapes );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( `THREE.ObjectLoader: Unsupported geometry type \"${ data.type }\"` );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t}\n\n\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tasync parseImagesAsync( json ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tasync function deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn await loader.loadAsync( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tloader = new ImageLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = await deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = await deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tconst source = images[ data.image ];\n\t\t\t\tconst image = source.data;\n\n\t\t\t\tlet texture;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture();\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.source = source;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\tif ( data.userData !== undefined ) texture.userData = data.userData;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, textures, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tfunction getTexture( uuid ) {\n\n\t\t\tif ( textures[ uuid ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined texture', uuid );\n\n\t\t\t}\n\n\t\t\treturn textures[ uuid ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tobject.background = getTexture( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.environment !== undefined ) {\n\n\t\t\t\t\tobject.environment = getTexture( data.environment );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.backgroundBlurriness !== undefined ) object.backgroundBlurriness = data.backgroundBlurriness;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new InstancedBufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new InstancedBufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, textures, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance, level.hysteresis );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.isImageBitmapLoader = true;\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nlet _context;\n\nclass AudioContext {\n\n\tstatic getContext() {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t}\n\n\tstatic setContext( value ) {\n\n\t\t_context = value;\n\n\t}\n\n}\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isHemisphereLightProbe = true;\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isAmbientLightProbe = true;\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\nconst _projectionMatrix = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t_projectionMatrix.copy( camera.projectionMatrix );\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( _projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( _projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tdisconnect() {\n\n\t\tsuper.disconnect();\n\n\t\tthis.panner.disconnect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /*@__PURE__*/ /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /*@__PURE__*/ /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /*@__PURE__*/ /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /*@__PURE__*/ /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones', 'map' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( matches === null ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( nodeName === undefined || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.targetObject[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map':\n\n\t\t\t\t\tif ( 'map' in targetObject ) {\n\n\t\t\t\t\t\ttargetObject = targetObject.map;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.map ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.map;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.isAnimationObjectGroup = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\tdeltaTime = 0;\n\n\t\t\t} else {\n\n\n\t\t\t\tthis._startTime = null; // unschedule\n\t\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _controlInterpolantsResultBuffer = new Float32Array( 1 );\n\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, _controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nlet id = 0;\n\nclass UniformsGroup extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isUniformsGroup = true;\n\n\t\tObject.defineProperty( this, 'id', { value: id ++ } );\n\n\t\tthis.name = '';\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.uniforms = [];\n\n\t}\n\n\tadd( uniform ) {\n\n\t\tthis.uniforms.push( uniform );\n\n\t\treturn this;\n\n\t}\n\n\tremove( uniform ) {\n\n\t\tconst index = this.uniforms.indexOf( uniform );\n\n\t\tif ( index !== - 1 ) this.uniforms.splice( index, 1 );\n\n\t\treturn this;\n\n\t}\n\n\tsetName( name ) {\n\n\t\tthis.name = name;\n\n\t\treturn this;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.usage = source.usage;\n\n\t\tconst uniformsSource = source.uniforms;\n\n\t\tthis.uniforms.length = 0;\n\n\t\tfor ( let i = 0, l = uniformsSource.length; i < l; i ++ ) {\n\n\t\t\tthis.uniforms.push( uniformsSource[ i ].clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.isInstancedInterleavedBuffer = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.isGLBufferAttribute = true;\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = true, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = true, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be between EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox2 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\n\t\tthis.light = light;\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'SpotLightHelper';\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\t\tthis.light.target.updateWorldMatrix( true, false );\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.type = 'SkeletonHelper';\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object.isBone === true ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\n\t\tthis.light = light;\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'HemisphereLightHelper';\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, sectors = 16, rings = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the sectors\n\n\t\tif ( sectors > 1 ) {\n\n\t\t\tfor ( let i = 0; i < sectors; i ++ ) {\n\n\t\t\t\tconst v = ( i / sectors ) * ( Math.PI * 2 );\n\n\t\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( x, 0, z );\n\n\t\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// create the rings\n\n\t\tfor ( let i = 0; i < rings; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / rings * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\n\t\tthis.light = light;\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'DirectionalLightHelper';\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateWorldMatrix( true, false );\n\t\tthis.light.target.updateWorldMatrix( true, false );\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttps://github.com/evanw/lightgl.js/blob/master/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2' );\n\t\taddLine( 'n2', 'n4' );\n\t\taddLine( 'n4', 'n3' );\n\t\taddLine( 'n3', 'n1' );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2' );\n\t\taddLine( 'f2', 'f4' );\n\t\taddLine( 'f4', 'f3' );\n\t\taddLine( 'f3', 'f1' );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1' );\n\t\taddLine( 'n2', 'f2' );\n\t\taddLine( 'n3', 'f3' );\n\t\taddLine( 'n4', 'f4' );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1' );\n\t\taddLine( 'p', 'n2' );\n\t\taddLine( 'p', 'n3' );\n\t\taddLine( 'p', 'n4' );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2' );\n\t\taddLine( 'u2', 'u3' );\n\t\taddLine( 'u3', 'u1' );\n\n\t\t// target\n\n\t\taddLine( 'c', 't' );\n\t\taddLine( 'p', 'c' );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2' );\n\t\taddLine( 'cn3', 'cn4' );\n\n\t\taddLine( 'cf1', 'cf2' );\n\t\taddLine( 'cf3', 'cf4' );\n\n\t\tfunction addLine( a, b ) {\n\n\t\t\taddPoint( a );\n\t\t\taddPoint( b );\n\n\t\t}\n\n\t\tfunction addPoint( id ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( 0, 0, 0 );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\tthis.setColors( colorFrustum, colorCone, colorUp, colorTarget, colorCross );\n\n\t}\n\n\tsetColors( frustum, cone, up, target, cross ) {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst colorAttribute = geometry.getAttribute( 'color' );\n\n\t\t// near\n\n\t\tcolorAttribute.setXYZ( 0, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 1, frustum.r, frustum.g, frustum.b ); // n1, n2\n\t\tcolorAttribute.setXYZ( 2, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 3, frustum.r, frustum.g, frustum.b ); // n2, n4\n\t\tcolorAttribute.setXYZ( 4, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 5, frustum.r, frustum.g, frustum.b ); // n4, n3\n\t\tcolorAttribute.setXYZ( 6, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 7, frustum.r, frustum.g, frustum.b ); // n3, n1\n\n\t\t// far\n\n\t\tcolorAttribute.setXYZ( 8, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 9, frustum.r, frustum.g, frustum.b ); // f1, f2\n\t\tcolorAttribute.setXYZ( 10, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 11, frustum.r, frustum.g, frustum.b ); // f2, f4\n\t\tcolorAttribute.setXYZ( 12, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 13, frustum.r, frustum.g, frustum.b ); // f4, f3\n\t\tcolorAttribute.setXYZ( 14, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 15, frustum.r, frustum.g, frustum.b ); // f3, f1\n\n\t\t// sides\n\n\t\tcolorAttribute.setXYZ( 16, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 17, frustum.r, frustum.g, frustum.b ); // n1, f1\n\t\tcolorAttribute.setXYZ( 18, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 19, frustum.r, frustum.g, frustum.b ); // n2, f2\n\t\tcolorAttribute.setXYZ( 20, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 21, frustum.r, frustum.g, frustum.b ); // n3, f3\n\t\tcolorAttribute.setXYZ( 22, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 23, frustum.r, frustum.g, frustum.b ); // n4, f4\n\n\t\t// cone\n\n\t\tcolorAttribute.setXYZ( 24, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 25, cone.r, cone.g, cone.b ); // p, n1\n\t\tcolorAttribute.setXYZ( 26, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 27, cone.r, cone.g, cone.b ); // p, n2\n\t\tcolorAttribute.setXYZ( 28, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 29, cone.r, cone.g, cone.b ); // p, n3\n\t\tcolorAttribute.setXYZ( 30, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 31, cone.r, cone.g, cone.b ); // p, n4\n\n\t\t// up\n\n\t\tcolorAttribute.setXYZ( 32, up.r, up.g, up.b ); colorAttribute.setXYZ( 33, up.r, up.g, up.b ); // u1, u2\n\t\tcolorAttribute.setXYZ( 34, up.r, up.g, up.b ); colorAttribute.setXYZ( 35, up.r, up.g, up.b ); // u2, u3\n\t\tcolorAttribute.setXYZ( 36, up.r, up.g, up.b ); colorAttribute.setXYZ( 37, up.r, up.g, up.b ); // u3, u1\n\n\t\t// target\n\n\t\tcolorAttribute.setXYZ( 38, target.r, target.g, target.b ); colorAttribute.setXYZ( 39, target.r, target.g, target.b ); // c, t\n\t\tcolorAttribute.setXYZ( 40, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 41, cross.r, cross.g, cross.b ); // p, c\n\n\t\t// cross\n\n\t\tcolorAttribute.setXYZ( 42, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 43, cross.r, cross.g, cross.b ); // cn1, cn2\n\t\tcolorAttribute.setXYZ( 44, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 45, cross.r, cross.g, cross.b ); // cn3, cn4\n\n\t\tcolorAttribute.setXYZ( 46, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 47, cross.r, cross.g, cross.b ); // cf1, cf2\n\t\tcolorAttribute.setXYZ( 48, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 49, cross.r, cross.g, cross.b ); // cf3, cf4\n\n\t\tcolorAttribute.needsUpdate = true;\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tthis.position.set( 0, 0, 0 );\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, 1 );\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tthis.translateZ( - this.plane.constant );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.line.geometry.dispose();\n\t\tthis.line.material.dispose();\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tsetColors( xAxisColor, yAxisColor, zAxisColor ) {\n\n\t\tconst color = new Color();\n\t\tconst array = this.geometry.attributes.color.array;\n\n\t\tcolor.set( xAxisColor );\n\t\tcolor.toArray( array, 0 );\n\t\tcolor.toArray( array, 3 );\n\n\t\tcolor.set( yAxisColor );\n\t\tcolor.toArray( array, 6 );\n\t\tcolor.toArray( array, 9 );\n\n\t\tcolor.set( zAxisColor );\n\t\tcolor.toArray( array, 12 );\n\t\tcolor.toArray( array, 15 );\n\n\t\tthis.geometry.attributes.color.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tlet toChange = 0;\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange ++;\n\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( toChange > 0 && ambiguous === false ) {\n\n\t\t\t\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\n// Fast Half Float Conversions, http://www.fox-toolkit.org/ftp/fasthalffloatconversion.pdf\n\nconst _tables = /*@__PURE__*/ _generateTables();\n\nfunction _generateTables() {\n\n\t// float32 to float16 helpers\n\n\tconst buffer = new ArrayBuffer( 4 );\n\tconst floatView = new Float32Array( buffer );\n\tconst uint32View = new Uint32Array( buffer );\n\n\tconst baseTable = new Uint32Array( 512 );\n\tconst shiftTable = new Uint32Array( 512 );\n\n\tfor ( let i = 0; i < 256; ++ i ) {\n\n\t\tconst e = i - 127;\n\n\t\t// very small number (0, -0)\n\n\t\tif ( e < - 27 ) {\n\n\t\t\tbaseTable[ i ] = 0x0000;\n\t\t\tbaseTable[ i | 0x100 ] = 0x8000;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// small number (denorm)\n\n\t\t} else if ( e < - 14 ) {\n\n\t\t\tbaseTable[ i ] = 0x0400 >> ( - e - 14 );\n\t\t\tbaseTable[ i | 0x100 ] = ( 0x0400 >> ( - e - 14 ) ) | 0x8000;\n\t\t\tshiftTable[ i ] = - e - 1;\n\t\t\tshiftTable[ i | 0x100 ] = - e - 1;\n\n\t\t\t// normal number\n\n\t\t} else if ( e <= 15 ) {\n\n\t\t\tbaseTable[ i ] = ( e + 15 ) << 10;\n\t\t\tbaseTable[ i | 0x100 ] = ( ( e + 15 ) << 10 ) | 0x8000;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t\t// large number (Infinity, -Infinity)\n\n\t\t} else if ( e < 128 ) {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// stay (NaN, Infinity, -Infinity)\n\n\t\t} else {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t}\n\n\t}\n\n\t// float16 to float32 helpers\n\n\tconst mantissaTable = new Uint32Array( 2048 );\n\tconst exponentTable = new Uint32Array( 64 );\n\tconst offsetTable = new Uint32Array( 64 );\n\n\tfor ( let i = 1; i < 1024; ++ i ) {\n\n\t\tlet m = i << 13; // zero pad mantissa bits\n\t\tlet e = 0; // zero exponent\n\n\t\t// normalized\n\t\twhile ( ( m & 0x00800000 ) === 0 ) {\n\n\t\t\tm <<= 1;\n\t\t\te -= 0x00800000; // decrement exponent\n\n\t\t}\n\n\t\tm &= ~ 0x00800000; // clear leading 1 bit\n\t\te += 0x38800000; // adjust bias\n\n\t\tmantissaTable[ i ] = m | e;\n\n\t}\n\n\tfor ( let i = 1024; i < 2048; ++ i ) {\n\n\t\tmantissaTable[ i ] = 0x38000000 + ( ( i - 1024 ) << 13 );\n\n\t}\n\n\tfor ( let i = 1; i < 31; ++ i ) {\n\n\t\texponentTable[ i ] = i << 23;\n\n\t}\n\n\texponentTable[ 31 ] = 0x47800000;\n\texponentTable[ 32 ] = 0x80000000;\n\n\tfor ( let i = 33; i < 63; ++ i ) {\n\n\t\texponentTable[ i ] = 0x80000000 + ( ( i - 32 ) << 23 );\n\n\t}\n\n\texponentTable[ 63 ] = 0xc7800000;\n\n\tfor ( let i = 1; i < 64; ++ i ) {\n\n\t\tif ( i !== 32 ) {\n\n\t\t\toffsetTable[ i ] = 1024;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tfloatView: floatView,\n\t\tuint32View: uint32View,\n\t\tbaseTable: baseTable,\n\t\tshiftTable: shiftTable,\n\t\tmantissaTable: mantissaTable,\n\t\texponentTable: exponentTable,\n\t\toffsetTable: offsetTable\n\t};\n\n}\n\n// float32 to float16\n\nfunction toHalfFloat( val ) {\n\n\tif ( Math.abs( val ) > 65504 ) console.warn( 'THREE.DataUtils.toHalfFloat(): Value out of range.' );\n\n\tval = clamp( val, - 65504, 65504 );\n\n\t_tables.floatView[ 0 ] = val;\n\tconst f = _tables.uint32View[ 0 ];\n\tconst e = ( f >> 23 ) & 0x1ff;\n\treturn _tables.baseTable[ e ] + ( ( f & 0x007fffff ) >> _tables.shiftTable[ e ] );\n\n}\n\n// float16 to float32\n\nfunction fromHalfFloat( val ) {\n\n\tconst m = val >> 10;\n\t_tables.uint32View[ 0 ] = _tables.mantissaTable[ _tables.offsetTable[ m ] + ( val & 0x3ff ) ] + _tables.exponentTable[ m ];\n\treturn _tables.floatView[ 0 ];\n\n}\n\nvar DataUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\ttoHalfFloat: toHalfFloat,\n\tfromHalfFloat: fromHalfFloat\n});\n\n// r134, d65e0af06644fe5a84a6fc0e372f4318f95a04c0\n\nfunction ImmediateRenderObject() {\n\n\tconsole.error( 'THREE.ImmediateRenderObject has been removed.' );\n\n}\n\n// r138, 48b05d3500acc084df50be9b4c90781ad9b8cb17\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tconsole.error( 'THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the \"samples\" property to greater 0 to enable multisampling.' );\n\t\tsuper( width, height, options );\n\t\tthis.samples = 4;\n\n\t}\n\n}\n\n// r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\nclass DataTexture2DArray extends DataArrayTexture {\n\n\tconstructor( data, width, height, depth ) {\n\n\t\tconsole.warn( 'THREE.DataTexture2DArray has been renamed to DataArrayTexture.' );\n\t\tsuper( data, width, height, depth );\n\n\t}\n\n}\n\n// r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\nclass DataTexture3D extends Data3DTexture {\n\n\tconstructor( data, width, height, depth ) {\n\n\t\tconsole.warn( 'THREE.DataTexture3D has been renamed to Data3DTexture.' );\n\t\tsuper( data, width, height, depth );\n\n\t}\n\n}\n\n// r144\n\nclass BoxBufferGeometry extends BoxGeometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tconsole.warn( 'THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry.' );\n\t\tsuper( width, height, depth, widthSegments, heightSegments, depthSegments );\n\n\n\t}\n\n}\n\n// r144\n\nclass CapsuleBufferGeometry extends CapsuleGeometry {\n\n\tconstructor( radius, length, capSegments, radialSegments ) {\n\n\t\tconsole.warn( 'THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry.' );\n\t\tsuper( radius, length, capSegments, radialSegments );\n\n\t}\n\n}\n\n// r144\n\nclass CircleBufferGeometry extends CircleGeometry {\n\n\tconstructor( radius, segments, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry.' );\n\t\tsuper( radius, segments, thetaStart, thetaLength );\n\n\t}\n\n}\n\n// r144\n\nclass ConeBufferGeometry extends ConeGeometry {\n\n\tconstructor( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry.' );\n\t\tsuper( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t}\n\n}\n\n// r144\n\nclass CylinderBufferGeometry extends CylinderGeometry {\n\n\tconstructor( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry.' );\n\t\tsuper( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t}\n\n}\n\n// r144\n\nclass DodecahedronBufferGeometry extends DodecahedronGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\n// r144\n\nclass ExtrudeBufferGeometry extends ExtrudeGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry.' );\n\t\tsuper( shapes, options );\n\n\t}\n\n}\n\n// r144\n\nclass IcosahedronBufferGeometry extends IcosahedronGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\n// r144\n\nclass LatheBufferGeometry extends LatheGeometry {\n\n\tconstructor( points, segments, phiStart, phiLength ) {\n\n\t\tconsole.warn( 'THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry.' );\n\t\tsuper( points, segments, phiStart, phiLength );\n\n\t}\n\n}\n\n// r144\n\nclass OctahedronBufferGeometry extends OctahedronGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\n// r144\n\nclass PlaneBufferGeometry extends PlaneGeometry {\n\n\tconstructor( width, height, widthSegments, heightSegments ) {\n\n\t\tconsole.warn( 'THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry.' );\n\t\tsuper( width, height, widthSegments, heightSegments );\n\n\t}\n\n}\n\n// r144\n\nclass PolyhedronBufferGeometry extends PolyhedronGeometry {\n\n\tconstructor( vertices, indices, radius, detail ) {\n\n\t\tconsole.warn( 'THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry.' );\n\t\tsuper( vertices, indices, radius, detail );\n\n\t}\n\n}\n\n// r144\n\nclass RingBufferGeometry extends RingGeometry {\n\n\tconstructor( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.RingBufferGeometry has been renamed to THREE.RingGeometry.' );\n\t\tsuper( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength );\n\n\t}\n\n}\n\n// r144\n\nclass ShapeBufferGeometry extends ShapeGeometry {\n\n\tconstructor( shapes, curveSegments ) {\n\n\t\tconsole.warn( 'THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry.' );\n\t\tsuper( shapes, curveSegments );\n\n\t}\n\n}\n\n// r144\n\nclass SphereBufferGeometry extends SphereGeometry {\n\n\tconstructor( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\t\tconsole.warn( 'THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry.' );\n\t\tsuper( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength );\n\n\t}\n\n}\n\n// r144\n\nclass TetrahedronBufferGeometry extends TetrahedronGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconsole.warn( 'THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry.' );\n\t\tsuper( radius, detail );\n\n\t}\n\n}\n\n// r144\n\nclass TorusBufferGeometry extends TorusGeometry {\n\n\tconstructor( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\t\tconsole.warn( 'THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry.' );\n\t\tsuper( radius, tube, radialSegments, tubularSegments, arc );\n\n\t}\n\n}\n\n// r144\n\nclass TorusKnotBufferGeometry extends TorusKnotGeometry {\n\n\tconstructor( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\t\tconsole.warn( 'THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry.' );\n\t\tsuper( radius, tube, tubularSegments, radialSegments, p, q );\n\n\t}\n\n}\n\n// r144\n\nclass TubeBufferGeometry extends TubeGeometry {\n\n\tconstructor( path, tubularSegments, radius, radialSegments, closed ) {\n\n\t\tconsole.warn( 'THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry.' );\n\t\tsuper( path, tubularSegments, radius, radialSegments, closed );\n\n\t}\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, BackSide, BasicDepthPacking, BasicShadowMap, Bone, BooleanKeyframeTrack, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasTexture, CapsuleBufferGeometry, CapsuleGeometry, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, ColorManagement, CompressedArrayTexture, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderBufferGeometry, CylinderGeometry, Cylindrical, Data3DTexture, DataArrayTexture, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, FileLoader, Float16BufferAttribute, Float32BufferAttribute, Float64BufferAttribute, FloatType, Fog, FogExp2, FramebufferTexture, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16BufferAttribute, Int32BufferAttribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LineSegments, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearSRGBColorSpace, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColorSpace, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBFormat, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, SRGBColorSpace, Scene, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, Source, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16BufferAttribute, Uint32BufferAttribute, Uint8BufferAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsGroup, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, VideoTexture, WebGL1Renderer, WebGL3DRenderTarget, WebGLArrayRenderTarget, WebGLCubeRenderTarget, WebGLMultipleRenderTargets, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderer, WebGLUtils, WireframeGeometry, WrapAroundEnding, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, _SRGBAFormat, sRGBEncoding };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tVector2,\n\tVector3\n} from 'three';\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass TrackballControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\t\tconst STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// API\n\n\t\tthis.enabled = true;\n\n\t\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\n\n\t\tthis.rotateSpeed = 1.0;\n\t\tthis.zoomSpeed = 1.2;\n\t\tthis.panSpeed = 0.3;\n\n\t\tthis.noRotate = false;\n\t\tthis.noZoom = false;\n\t\tthis.noPan = false;\n\n\t\tthis.staticMoving = false;\n\t\tthis.dynamicDampingFactor = 0.2;\n\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\tthis.keys = [ 'KeyA' /*A*/, 'KeyS' /*S*/, 'KeyD' /*D*/ ];\n\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// internals\n\n\t\tthis.target = new Vector3();\n\n\t\tconst EPS = 0.000001;\n\n\t\tconst lastPosition = new Vector3();\n\t\tlet lastZoom = 1;\n\n\t\tlet _state = STATE.NONE,\n\t\t\t_keyState = STATE.NONE,\n\n\t\t\t_touchZoomDistanceStart = 0,\n\t\t\t_touchZoomDistanceEnd = 0,\n\n\t\t\t_lastAngle = 0;\n\n\t\tconst _eye = new Vector3(),\n\n\t\t\t_movePrev = new Vector2(),\n\t\t\t_moveCurr = new Vector2(),\n\n\t\t\t_lastAxis = new Vector3(),\n\n\t\t\t_zoomStart = new Vector2(),\n\t\t\t_zoomEnd = new Vector2(),\n\n\t\t\t_panStart = new Vector2(),\n\t\t\t_panEnd = new Vector2(),\n\n\t\t\t_pointers = [],\n\t\t\t_pointerPositions = {};\n\n\t\t// for reset\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.up0 = this.object.up.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// methods\n\n\t\tthis.handleResize = function () {\n\n\t\t\tconst box = scope.domElement.getBoundingClientRect();\n\t\t\t// adjustments come from similar code in the jquery offset() function\n\t\t\tconst d = scope.domElement.ownerDocument.documentElement;\n\t\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\n\t\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\n\t\t\tscope.screen.width = box.width;\n\t\t\tscope.screen.height = box.height;\n\n\t\t};\n\n\t\tconst getMouseOnScreen = ( function () {\n\n\t\t\tconst vector = new Vector2();\n\n\t\t\treturn function getMouseOnScreen( pageX, pageY ) {\n\n\t\t\t\tvector.set(\n\t\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\n\t\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\n\t\t\t\t);\n\n\t\t\t\treturn vector;\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tconst getMouseOnCircle = ( function () {\n\n\t\t\tconst vector = new Vector2();\n\n\t\t\treturn function getMouseOnCircle( pageX, pageY ) {\n\n\t\t\t\tvector.set(\n\t\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\n\t\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\n\t\t\t\t);\n\n\t\t\t\treturn vector;\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tthis.rotateCamera = ( function () {\n\n\t\t\tconst axis = new Vector3(),\n\t\t\t\tquaternion = new Quaternion(),\n\t\t\t\teyeDirection = new Vector3(),\n\t\t\t\tobjectUpDirection = new Vector3(),\n\t\t\t\tobjectSidewaysDirection = new Vector3(),\n\t\t\t\tmoveDirection = new Vector3();\n\n\t\t\treturn function rotateCamera() {\n\n\t\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\n\t\t\t\tlet angle = moveDirection.length();\n\n\t\t\t\tif ( angle ) {\n\n\t\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\n\t\t\t\t\teyeDirection.copy( _eye ).normalize();\n\t\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\n\t\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\n\n\t\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\n\t\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\n\n\t\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\n\n\t\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\n\n\t\t\t\t\tangle *= scope.rotateSpeed;\n\t\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\n\n\t\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t\t_lastAxis.copy( axis );\n\t\t\t\t\t_lastAngle = angle;\n\n\t\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\n\n\t\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\n\t\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\t\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\n\t\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t}\n\n\t\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t\t};\n\n\t\t}() );\n\n\n\t\tthis.zoomCamera = function () {\n\n\t\t\tlet factor;\n\n\t\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\n\n\t\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n\t\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\tscope.object.zoom /= factor;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\n\n\t\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\n\n\t\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t\tscope.object.zoom /= factor;\n\t\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.panCamera = ( function () {\n\n\t\t\tconst mouseChange = new Vector2(),\n\t\t\t\tobjectUp = new Vector3(),\n\t\t\t\tpan = new Vector3();\n\n\t\t\treturn function panCamera() {\n\n\t\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\n\n\t\t\t\tif ( mouseChange.lengthSq() ) {\n\n\t\t\t\t\tif ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t\tconst scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\n\t\t\t\t\t\tconst scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\n\n\t\t\t\t\t\tmouseChange.x *= scale_x;\n\t\t\t\t\t\tmouseChange.y *= scale_y;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\n\n\t\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\n\t\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\n\n\t\t\t\t\tscope.object.position.add( pan );\n\t\t\t\t\tscope.target.add( pan );\n\n\t\t\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t\t\t_panStart.copy( _panEnd );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tthis.checkDistances = function () {\n\n\t\t\tif ( ! scope.noZoom || ! scope.noPan ) {\n\n\t\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\n\n\t\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t}\n\n\t\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\n\n\t\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\t\tif ( ! scope.noRotate ) {\n\n\t\t\t\tscope.rotateCamera();\n\n\t\t\t}\n\n\t\t\tif ( ! scope.noZoom ) {\n\n\t\t\t\tscope.zoomCamera();\n\n\t\t\t}\n\n\t\t\tif ( ! scope.noPan ) {\n\n\t\t\t\tscope.panCamera();\n\n\t\t\t}\n\n\t\t\tscope.object.position.addVectors( scope.target, _eye );\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscope.checkDistances();\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t\t}\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastZoom = scope.object.zoom;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\t_state = STATE.NONE;\n\t\t\t_keyState = STATE.NONE;\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.up.copy( scope.up0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tlastPosition.copy( scope.object.position );\n\t\t\tlastZoom = scope.object.zoom;\n\n\t\t};\n\n\t\t// listeners\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( _pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchEnd( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseUp();\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tremovePointer( event );\n\n\t\t\tif ( _pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction keydown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\twindow.removeEventListener( 'keydown', keydown );\n\n\t\t\tif ( _keyState !== STATE.NONE ) {\n\n\t\t\t\treturn;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\n\n\t\t\t\t_keyState = STATE.ROTATE;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\n\n\t\t\t\t_keyState = STATE.ZOOM;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\n\n\t\t\t\t_keyState = STATE.PAN;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction keyup() {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\t_keyState = STATE.NONE;\n\n\t\t\twindow.addEventListener( 'keydown', keydown );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( _state === STATE.NONE ) {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase scope.mouseButtons.LEFT:\n\t\t\t\t\t\t_state = STATE.ROTATE;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.mouseButtons.MIDDLE:\n\t\t\t\t\t\t_state = STATE.ZOOM;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.mouseButtons.RIGHT:\n\t\t\t\t\t\t_state = STATE.PAN;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t\t_zoomEnd.copy( _zoomStart );\n\n\t\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t\t_panEnd.copy( _panStart );\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tconst state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\n\t\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp() {\n\n\t\t\t_state = STATE.NONE;\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tswitch ( event.deltaMode ) {\n\n\t\t\t\tcase 2:\n\t\t\t\t\t// Zoom in pages\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\t// Zoom in lines\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t// undefined, 0, assume pixels\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( _pointers[ 0 ].pageX, _pointers[ 0 ].pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // 2 or more\n\t\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\t\tconst dx = _pointers[ 0 ].pageX - _pointers[ 1 ].pageX;\n\t\t\t\t\tconst dy = _pointers[ 0 ].pageY - _pointers[ 1 ].pageY;\n\t\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tconst x = ( _pointers[ 0 ].pageX + _pointers[ 1 ].pageX ) / 2;\n\t\t\t\t\tconst y = ( _pointers[ 0 ].pageY + _pointers[ 1 ].pageY ) / 2;\n\t\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t\t_panEnd.copy( _panStart );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // 2 or more\n\n\t\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\t\tconst dx = event.pageX - position.x;\n\t\t\t\t\tconst dy = event.pageY - position.y;\n\t\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tconst x = ( event.pageX + position.x ) / 2;\n\t\t\t\t\tconst y = ( event.pageY + position.y ) / 2;\n\t\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 0:\n\t\t\t\t\t_state = STATE.NONE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\n\t\t\t\t\tfor ( let i = 0; i < _pointers.length; i ++ ) {\n\n\t\t\t\t\t\tif ( _pointers[ i ].pointerId !== event.pointerId ) {\n\n\t\t\t\t\t\t\tconst position = _pointerPositions[ _pointers[ i ].pointerId ];\n\t\t\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( position.x, position.y ) );\n\t\t\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction contextmenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\t_pointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete _pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < _pointers.length; i ++ ) {\n\n\t\t\t\tif ( _pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\t_pointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = _pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\t_pointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === _pointers[ 0 ].pointerId ) ? _pointers[ 1 ] : _pointers[ 0 ];\n\n\t\t\treturn _pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\twindow.removeEventListener( 'keydown', keydown );\n\t\t\twindow.removeEventListener( 'keyup', keyup );\n\n\t\t};\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\n\t\tthis.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tthis.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\n\t\twindow.addEventListener( 'keydown', keydown );\n\t\twindow.addEventListener( 'keyup', keyup );\n\n\t\tthis.handleResize();\n\n\t\t// force an update at start\n\t\tthis.update();\n\n\t}\n\n}\n\nexport { TrackballControls };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","import './style.css'\nimport * as THREE from 'three'\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls'\nimport { TextureLoader } from 'three';\n\n// <canvas id=\"galaxy-map\"></canvas> \nconst canvas = document.getElementById('galaxy-map');\nconst renderer = new THREE.WebGLRenderer({ canvas });\n\n//scenecamera\nconst scene = new THREE.Scene();\nconst camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );\n\n//\nconst starDataEl = document.getElementById('star-data');\nconst starNameEl = document.getElementById('star-name');\nconst starPositionEl = document.getElementById('star-position');\nconst starNationsEl = document.getElementById('star-nations');\nconst starDiscriptionEl = document.getElementById('star-discription');\n//\nlet clickedData = null;\n\n// Set up controls\nconst controls = new TrackballControls(camera, canvas);\ncontrols.rotateSpeed = 1.0;\ncontrols.zoomSpeed = 1.2;\ncontrols.panSpeed = 0.8;\n\n// \nwindow.addEventListener('resize', onWindowResize, false);\n\nfunction onWindowResize() {\n  // \n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  // \n  renderer.setSize( window.innerWidth, window.innerHeight );\n}\n\n// \nonWindowResize();\n\ndocument.body.appendChild( renderer.domElement );\n\n// Load star data from starData.json\nconst starData = require('./starData.json');\n\n// Create stars using Three.js sprites\nconst stars = [];\nstarData.forEach((data) => {\n  const texture = new TextureLoader().load('./img/star.png');\n  const star = new THREE.Sprite(\n    new THREE.SpriteMaterial({\n      color: data.color,\n      map: texture\n    })\n  );\n  star.position.set(data.position[0], data.position[1], data.position[2]);\n  star.scale.set(data.size, data.size, data.size);\n  star.name = data.name;\n  star.nations = data.nations;\n  star.discription = data.text;\n  stars.push(star);\n\n  // Create an array to keep track of lines that have already been drawn\n  const drawnLines = [];\n\n  // Add a line connecting this star to the stars in the \"link\" array\n  data.link.forEach((linkedStarName) => {\n  // Find the star that this star is linked to\n  const linkedStar = stars.find((star) => star.name === linkedStarName);\n  // If the linked star was found, add a line between the two stars\n    if (linkedStar) {\n      // Check if a line with the same positions has already been drawn\n      const lineKey = star.position.toString() + linkedStar.position.toString();\n      if (!drawnLines.includes(lineKey)) {\n        // Add the line to the list of drawn lines\n        drawnLines.push(lineKey);\n        console.log(star.position, linkedStar.position);\n        const lineMaterial = new THREE.LineBasicMaterial({color: 0xcccccc});\n        let pointArray = [star.position, linkedStar.position];\n        const lineGeometry = new THREE.BufferGeometry();\n        lineGeometry.setFromPoints(pointArray);\n        const line = new THREE.Line(lineGeometry, lineMaterial);\n        scene.add(line);\n      }\n    }\n  });\n});\n\n// Add stars to scene\nstars.forEach((star) => {\n  scene.add(star);\n});\n\n// Set up event listener for clicks on stars\ncanvas.addEventListener('click', (event) => {\n  // Set up raycaster\n  const raycaster = new THREE.Raycaster();\n  raycaster.setFromCamera(\n    new THREE.Vector2(\n      (event.clientX / window.innerWidth) * 2 - 1,\n      -(event.clientY / window.innerHeight) * 2 + 1\n    ),\n    camera\n  );\n\n  // Find intersected stars\n  const intersects = raycaster.intersectObjects(stars);\n\n  // Only update clickedData if there are intersects and it is not already set\n  if (intersects.length > 0 && !clickedData) {\n    // Store clicked star data\n    clickedData = starData.find((d) => d.name === intersects[0].object.name);\n  }\n\n  // Reset clickedData if there are no intersects\n  if (intersects.length === 0) {\n    clickedData = null;\n  }\n\n  if (clickedData) {\n    // Show data for clicked star\n    starDataEl.style.display = 'block';\n    starNameEl.innerHTML = clickedData.name;\n    starPositionEl.innerHTML = `Position: (${clickedData.position[0]}, ${clickedData.position[1]}, ${clickedData.position[2]})`;\n    // nations\n    starNationsEl.innerHTML = clickedData.nations.map(function (n) {\n      return \"<li>\" + n + \"</li>\";\n    }).join(\"\");\n    starDiscriptionEl.innerHTML = `${clickedData.text}`;\n  } else {\n    starDataEl.style.display = 'none';\n  }\n\n});\n\n\ncamera.position.z = 2.5;\n\nfunction animate() {\n    requestAnimationFrame( animate );\n    controls.update();\n    renderer.render( scene, camera );\n};\nanimate();\n"],"names":["module","exports","cssWithMappingToString","list","toString","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","id","_k","push","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","NoColorSpace","SRGBColorSpace","LinearSRGBColorSpace","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","_SRGBAFormat","EventDispatcher","type","listener","_listeners","listeners","indexOf","listenerArray","index","splice","event","target","array","slice","l","call","_lut","_seed","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toLowerCase","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","imul","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","denormalize","constructor","Float32Array","Uint16Array","Uint8Array","Int16Array","Int8Array","Error","normalize","round","MathUtils","Object","freeze","__proto__","Vector2","prototype","isVector2","scalar","v","multiplyScalar","e","elements","minVal","maxVal","divideScalar","sqrt","angle","atan2","distanceToSquared","dx","dy","alpha","v1","v2","offset","attribute","getX","getY","center","Symbol","iterator","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","f","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","premultiply","_m3","makeScale","theta","makeRotation","makeTranslation","matrix","fromArray","arrayNeedsUint32","TYPED_ARRAYS","Uint8ClampedArray","Int32Array","Uint32Array","Float64Array","getTypedArray","buffer","createElementNS","name","document","SRGBToLinear","LinearToSRGB","FN","ColorManagement","legacyMode","workingColorSpace","colorSpace","convert","color","sourceColorSpace","targetColorSpace","fn","fromWorkingColorSpace","toWorkingColorSpace","_colorKeywords","_rgb$1","_hslA","_hslB","hue2rgb","p","toComponents","Color","isColor","setRGB","copy","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","size","charAt","setColorName","copySRGBToLinear","copyLinearToSRGB","getHex","hue","saturation","lightness","delta","getHSL","color1","color2","getZ","NAMES","_canvas","ImageUtils","image","test","src","HTMLCanvasElement","canvas","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","HTMLImageElement","ImageBitmap","imageData","getImageData","Source","isSource","version","meta","isRootObject","images","output","url","Array","isArray","isDataTexture","serializeImage","getDataURL","from","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","DEFAULT_ANISOTROPY","encoding","isTexture","defineProperty","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","userData","onUpdate","isRenderTargetTexture","needsPMREMUpdate","setUvTransform","parse","needsUpdate","textures","metadata","generator","toJSON","wrap","dispatchEvent","uv","applyMatrix3","Vector4","z","w","isVector4","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getW","WebGLRenderTarget","options","isWebGLRenderTarget","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","samples","dispose","clone","assign","DataArrayTexture","isDataArrayTexture","wrapR","WebGLArrayRenderTarget","isWebGLArrayRenderTarget","Data3DTexture","isData3DTexture","WebGL3DRenderTarget","isWebGL3DRenderTarget","WebGLMultipleRenderTargets","count","isWebGLMultipleRenderTargets","il","Quaternion","isQuaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","dot","Number","EPSILON","step","angleTo","slerp","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","u1","sqrt1u1","sqrtu1","u2","u3","callback","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","Vector3","isVector3","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","u","Box3","Infinity","isBox3","minX","minY","minZ","maxX","maxY","maxZ","points","makeEmpty","expandByPoint","halfSize","_vector$b","add","object","precise","expandByObject","box","isEmpty","addVectors","subVectors","point","vector","addScalar","updateWorldMatrix","geometry","attributes","position","fromBufferAttribute","boundingBox","computeBoundingBox","_box$3","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$4","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","clampedPoint","getSize","_points","setFromPoints","equals","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_v2$3","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","addScaledVector","setLength","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","isNaN","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","isMatrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","yx","zx","zy","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","_matrix$1","_quaternion$3","Euler","DefaultOrder","isEuler","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","error","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","isObject3D","parent","DefaultUp","onRotationChange","onQuaternionChange","_onChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","matrixWorldAutoUpdate","DefaultMatrixWorldAutoUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","updateMatrix","decompose","multiply","rotateOnAxis","distance","translateOnAxis","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","arguments","remove","getObjectByProperty","child","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","skeletons","nodes","toArray","isInstancedMesh","instanceMatrix","instanceColor","serialize","library","element","isScene","background","environment","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","key","recursive","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","p3","materialId","Material","isMaterial","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaToCoverage","premultipliedAlpha","toneMapped","_alphaTest","onBeforeCompile","newValue","currentValue","roughness","metalness","sheen","sheenColor","sheenRoughness","emissive","emissiveIntensity","specular","specularIntensity","specularColor","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","iridescence","iridescenceIOR","iridescenceThicknessRange","iridescenceMap","iridescenceThicknessMap","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularColorMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationColor","sizeAttenuation","linewidth","dashSize","gapSize","alphaTest","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","flatShading","fog","srcPlanes","dstPlanes","MeshBasicMaterial","isMeshBasicMaterial","setValues","_vector$9","_vector2$1","BufferAttribute","itemSize","normalized","TypeError","isBufferAttribute","usage","updateRange","index1","index2","setXY","setXYZ","applyNormalMatrix","onUploadCallback","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","_id$1","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","isBufferGeometry","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","start","materialIndex","getNormalMatrix","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","negate","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","jl","indices","positions","normals","uvs","nVertices","hasAttribute","tangents","getAttribute","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","convertBufferAttribute","array2","isInterleavedBufferAttribute","stride","geometry2","newAttribute","morphArray","addGroup","keys","hasMorphAttributes","attributeArray","setIndex","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersectsBox","intersection","morphPosition","groupMaterial","end","checkBufferGeometryIntersection","faceIndex","face","checkIntersection","intersect","intersectTriangle","morphInfluences","influence","boneTransform","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","cloneUniformsGroups","getUnlitUniformColorSpace","renderer","getRenderTarget","outputEncoding","UniformsUtils","merge","default_vertex","default_fragment","ShaderMaterial","isShaderMaterial","defines","uniformsGroups","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","Camera","PerspectiveCamera","fov","aspect","isPerspectiveCamera","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","enabled","offsetX","offsetY","skew","getFilmWidth","makePerspective","CubeCamera","renderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","scene","currentRenderTarget","currentToneMapping","toneMapping","currentXrEnabled","xr","setRenderTarget","render","CubeTexture","isCubeTexture","WebGLCubeRenderTarget","isWebGLCubeRenderTarget","shader","tEquirect","mesh","currentMinFilter","stencil","clear","_vector1","_vector2","_normalMatrix","Plane","isPlane","setFromNormalAndCoplanarPoint","inverseNormalLength","line","startSign","endSign","intersectsPlane","optionalNormalMatrix","referencePoint","coplanarPoint","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","deleteBuffer","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","alphatest_pars_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","iridescence_fragment","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_fragment","lights_lambert_pars_fragment","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphcolor_vertex","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normal_pars_fragment","normal_pars_vertex","normal_vertex","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","iridescence_pars_fragment","output_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmission_fragment","transmission_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","vertex$h","fragment$h","vertex$g","fragment$g","vertex$f","fragment$f","vertex$e","fragment$e","vertex$d","fragment$d","vertex$c","fragment$c","vertex$b","fragment$b","vertex$a","fragment$a","vertex$9","fragment$9","vertex$8","fragment$8","vertex$7","fragment$7","vertex$6","fragment$6","vertex$5","fragment$5","vertex$4","fragment$4","vertex$3","fragment$3","vertex$2","fragment$2","vertex$1","fragment$1","ShaderChunk","background_vert","background_frag","backgroundCube_vert","backgroundCube_frag","cube_vert","cube_frag","depth_vert","depth_frag","distanceRGBA_vert","distanceRGBA_frag","equirect_vert","equirect_frag","linedashed_vert","linedashed_frag","meshbasic_vert","meshbasic_frag","meshlambert_vert","meshlambert_frag","meshmatcap_vert","meshmatcap_frag","meshnormal_vert","meshnormal_frag","meshphong_vert","meshphong_frag","meshphysical_vert","meshphysical_frag","meshtoon_vert","meshtoon_frag","points_vert","points_frag","shadow_vert","shadow_frag","sprite_vert","sprite_frag","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","ior","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotLightMap","spotShadowMap","spotLightMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","backgroundIntensity","backgroundCube","backgroundBlurriness","cube","tCube","tFlip","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","iridescenceThicknessMinimum","iridescenceThicknessMaximum","sheenColorMap","sheenRoughnessMap","transmissionSamplerSize","transmissionSamplerMap","_rgb","WebGLBackground","cubemaps","cubeuvmaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","usePMREM","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","enableAll","unshift","getRGB","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","forceUpdate","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","programAttributes","getAttributes","programAttribute","location","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","vertexAttribIPointer","isInstancedBufferGeometry","materialDefaultAttributeValues","isInstancedInterleavedBuffer","locationSize","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","fromEquirectangularTexture","addEventListener","onTextureDispose","removeEventListener","OrthographicCamera","isOrthographicCamera","scaleW","scaleH","makeOrthographic","LOD_MIN","EXTRA_LOD_SIGMA","MAX_SAMPLES","_flatCamera","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_renderer","_pingPongRenderTarget","_lodMax","_cubeSize","_lodPlanes","_sizeLods","_sigmas","_blurMaterial","_cubemapMaterial","_equirectMaterial","_compileMaterial","sigma","_setSize","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapMaterial","_getEquirectMaterial","_dispose","cubeSize","log2","outputTarget","_setViewport","_textureToCubeUV","params","_createRenderTarget","_createPlanes","sizeLods","lodPlanes","sigmas","_getBlurShader","tmpMesh","compile","cubeCamera","upSign","forwardSign","originalAutoClear","backgroundMaterial","backgroundBox","useSolidColor","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","sum","weight","outputSize","lodMax","lod","totalLods","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","WebGLCubeUVMaps","cubeUVmaps","pmremGenerator","isEquirectMap","isCubeMap","fromEquirectangular","fromCubemap","isCubeTextureComplete","cubemapUV","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","morphTextures","morph","workInfluences","objectInfluences","morphTargetsCount","entry","disposeTexture","hasMorphPosition","hasMorphNormals","hasMorphColors","morphTargets","morphNormals","morphColors","vertexDataCount","vertexDataStride","morphTarget","morphNormal","morphColor","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","influences","sort","MAX_SAFE_INTEGER","WebGLObjects","updateMap","buffergeometry","hasEventListener","onInstancedMeshDispose","instancedMesh","emptyTexture","emptyArrayTexture","empty3dTexture","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2i","uniform2iv","setValueV3i","uniform3i","uniform3iv","setValueV4i","uniform4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2ui","uniform2uiv","setValueV3ui","uniform3ui","uniform3uiv","setValueV4ui","uniform4ui","uniform4uiv","setValueT1","unit","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT3DArray","setValueT6Array","setValueT2DArrayArray","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","WebGLShader","createShader","shaderSource","compileShader","programIdCount","handleSource","errorLine","split","lines2","to","getEncodingComponents","getShaderErrors","status","getShaderParameter","errors","getShaderInfoLog","trim","errorMatches","toUpperCase","getShaderSource","getTexelEncodingFunction","functionName","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUVHeight","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numSpotLightCoords","numSpotLightShadows","numSpotLightMaps","numSpotLightShadowsWithMaps","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","unrollLoopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","generateCubeUVSize","imageHeight","maxMip","texelHeight","texelWidth","WebGLProgram","cacheKey","envMapCubeUVSize","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","skinning","morphTextureStride","doubleSided","flipSided","shadowMapEnabled","decodeVideoTexture","physicallyCorrectLights","opaque","useDepthPacking","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","_id","WebGLShaderCache","shaderCache","Map","materialCache","vertexShaderStage","_getShaderStage","fragmentShaderStage","materialShaders","_getShaderCacheForMaterial","shaderStage","code","Set","stage","WebGLShaderStage","WebGLPrograms","_programLayers","_customShaders","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","getParameters","shadows","isMeshStandardMaterial","customVertexShaderID","customFragmentShaderID","getVertexShaderID","getFragmentShaderID","useAlphaTest","useClearcoat","useIridescence","isXRRenderTarget","isVideoTexture","isFogExp2","directional","spot","rectArea","hemi","shadowMap","customProgramCacheKey","getProgramCacheKey","getProgramCacheKeyParameters","getProgramCacheKeyBooleans","morphAttributeCount","disableAll","enable","acquireProgram","pl","preexistingProgram","releaseProgram","pop","releaseShaderCache","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","transmissive","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","renderCallDepth","listArray","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingAndTexturingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","numSpotMaps","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","numSpotShadowsWithMaps","scaleFactor","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","updateMatrices","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderStateArray","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vertex","fragment","WebGLShadowMap","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterial","_distanceMaterial","_materialCache","_maxTextureSize","shadowMaterialVertical","VSM_SAMPLES","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","pars","viewportCount","getViewportCount","vp","getViewport","getFrustum","renderObject","isPointLightShadow","VSMPass","blurSamples","mapPass","renderBufferDirect","getDepthMaterial","result","customMaterial","customDistanceMaterial","customDepthMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","disable","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","uboBindings","uboProgamMap","enabledCapabilities","currentBoundFramebuffers","currentDrawbuffers","defaultDrawbuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","scissorParam","viewportParam","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","bindFramebuffer","framebuffer","drawBuffersWEBGL","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","compressedTexImage3D","texSubImage2D","texSubImage3D","compressedTexSubImage2D","compressedTexSubImage3D","texStorage2D","texStorage3D","texImage3D","updateUBOMapping","uniformsGroup","blockIndex","getUniformBlockIndex","uniformBlockBinding","__bindingPointIndex","WebGLTextures","_gl","utils","multisampledRTTExt","supportsInvalidateFramebuffer","navigator","userAgent","_videoTextures","_sources","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","getInternalFormat","internalFormatName","glFormat","glType","forceLinearEncoding","getMipLevels","isFramebufferTexture","isCompressedTexture","filterFallback","deallocateTexture","onRenderTargetDispose","deallocateRenderTarget","textureProperties","__webglInit","webglTextures","__cacheKey","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","attachmentProperties","textureUnits","resetTextureUnits","textureUnit","getTextureCacheKey","slot","updateVideoTexture","__version","complete","uploadTexture","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","forceUpload","textureCacheKey","isCompressedArrayTexture","sourceProperties","pixelStorei","verifyColorSpace","glInternalFormat","mipmap","useTexStorage","allocateMemory","levels","isDepthTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","__hasExternalTextures","useMultisampledRTT","framebufferTexture2DMultisampleEXT","getRenderTargetSamples","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","renderbufferStorageMultisampleEXT","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","__autoAllocateDepthBuffer","createRenderbuffer","rebindTextures","colorTexture","setupRenderTarget","isMultipleRenderTargets","createFramebuffer","glTextureType","updateRenderTargetMipmap","updateMultisampleRenderTarget","invalidationArray","depthStyle","ignoreDepthValues","__ignoreDepthValues","invalidateFramebuffer","blitFramebuffer","__useRenderToTexture","sRGBToLinear","WebGLUtils","HALF_FLOAT_OES","SRGB_ALPHA_EXT","COMPRESSED_SRGB_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR","COMPRESSED_RGBA_ASTC_5x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR","COMPRESSED_RGBA_ASTC_5x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR","COMPRESSED_RGBA_ASTC_6x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR","COMPRESSED_RGBA_ASTC_6x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR","COMPRESSED_RGBA_ASTC_8x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR","COMPRESSED_RGBA_ASTC_8x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR","COMPRESSED_RGBA_ASTC_8x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR","COMPRESSED_RGBA_ASTC_10x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR","COMPRESSED_RGBA_ASTC_10x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR","COMPRESSED_RGBA_ASTC_10x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR","COMPRESSED_RGBA_ASTC_10x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR","COMPRESSED_RGBA_ASTC_12x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR","COMPRESSED_RGBA_ASTC_12x12_KHR","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_RGBA_BPTC_UNORM_EXT","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","cameras","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","hand","inputjoint","_getHandJoint","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","visibilityState","jointPose","getJointPose","joint","transform","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","getPose","targetRaySpace","jointName","DepthTexture","WebXRManager","framebufferScaleFactor","referenceSpaceType","customReferenceSpace","pose","glBinding","glProjLayer","glBaseLayer","xrFrame","getContextAttributes","initialRenderTarget","newRenderTarget","controllers","controllerInputSources","planesLastChangedTimes","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","cameraAutoUpdate","isPresenting","getController","controller","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","onSessionEvent","controllerIndex","onSessionEnd","onInputSourcesChange","disconnect","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setReferenceSpace","space","getBaseLayer","getBinding","getFrame","setSession","xrCompatible","makeXRCompatible","layerInit","antialias","XRWebGLLayer","updateRenderState","baseLayer","framebufferWidth","framebufferHeight","depthFormat","depthType","glDepthFormat","projectionlayerInit","colorFormat","XRWebGLBinding","createProjectionLayer","textureWidth","textureHeight","setFoveation","requestReferenceSpace","removed","added","connect","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","updateCamera","depthNear","depthFar","getCamera","getFoveation","fixedFoveation","foveation","getPlanes","onAnimationFrameCallback","getViewerPose","views","setRenderTargetFramebuffer","cameraVRNeedsUpdate","glSubImage","getViewSubImage","setRenderTargetTextures","depthStencilTexture","detectedPlanes","planesToRemove","lastChangedTime","lastKnownTime","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","transmissionRenderTarget","refreshUniformsCommon","isMeshLambertMaterial","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","refreshUniformsStandard","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDistance","isMeshNormalMaterial","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","WebGLUniformsGroups","updateList","allocatedBindingPoints","maxBindingPoints","bind","webglProgram","prepareUniformsGroup","onUniformsGroupsDispose","updateBufferData","bindingPointIndex","allocateBindingPointIndex","__size","bindBufferBase","__cache","hasUniformChanged","__offset","__data","cachedObject","chunkSize","chunkOffset","getUniformSize","storage","remainingSizeInChunk","boundary","createCanvasElement","display","WebGLRenderer","isWebGLRenderer","_context","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","_alpha","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_transmissionRenderTarget","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","onContextCreationError","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","statusMessage","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","forEach","setProgram","rangeFactor","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","maxInstanceCount","prepare","getProgram","material2","self","setFromProjectionMatrix","projectObject","camera2","renderScene","onAfterRender","isLOD","intersectsSprite","opaqueObjects","transmissiveObjects","transparentObjects","renderTransmissionPass","renderObjects","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","onBuild","needsLights","materialNeedsLights","progUniforms","uniformsList","seqWithValue","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","setOptional","boneTexture","computeBoneTexture","boneTextureSize","isMeshGouraudMaterial","markUniformsLightsNeedsUpdate","upload","defaultFramebuffer","__useDefaultFramebuffer","useDefaultFramebuffer","isRenderTarget3D","framebufferBound","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","readPixels","copyFramebufferToTexture","level","levelScale","copyTexSubImage2D","copyTextureToTexture","srcTexture","dstTexture","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","setUsage","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","addLevel","hysteresis","levelDistance","getObjectForDistance","raycast","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","calculateInverses","skinWeight","manhattanLength","setXYZW","skinIndex","getComponent","boneIndex","bones","boneInverses","Bone","isBone","DataTexture","_offsetMatrix","_identityMatrix","Skeleton","boneMatrices","inverse","bone","json","boneInverse","InstancedBufferAttribute","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_identity","_mesh","InstancedMesh","setMatrixAt","raycastTimes","instanceId","getMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","lineDistances","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","FramebufferTexture","CompressedTexture","CompressedArrayTexture","CanvasTexture","isCanvasTexture","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","getPointAt","lengths","getLengths","cacheArcLengths","current","last","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","t2","pt1","pt2","getTangent","segments","closed","binormals","vec","mat","getTangentAt","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","px","py","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","startPoint","endPoint","getLength","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","pts","getPoints","fromJSON","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","lastPoint","LatheGeometry","phiStart","phiLength","initNormals","inverseSegments","curNormal","prevNormal","base","CapsuleGeometry","capSegments","radialSegments","CircleGeometry","thetaStart","thetaLength","segment","CylinderGeometry","radiusTop","radiusBottom","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","computeVertexNormals","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","details","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Shape","holes","holesPts","getPointsHoles","hole","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","bridge","findHoleBridge","bridgeReverse","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","ShapeUtils","contour","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","uvArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","reverse","isClockWise","hl","ahole","triangulateShape","scalePt2","pt","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","geometryShapes","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","OctahedronGeometry","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","frames","P","generateBufferData","generateSegment","generateIndices","WireframeGeometry","edges","o","ol","isUniqueEdge","hash1","hash2","Geometries","RawShaderMaterial","_sheen","_clearcoat","_iridescence","_transmission","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","AnimationUtils","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","copySampleValue_","t1global","mid","intervalChanged_","interpolate_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","getInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","Promise","resolve","reject","load","loading","HttpError","response","FileLoader","setTimeout","req","Request","headers","Headers","credentials","mimeType","responseType","fetch","then","ReadableStream","body","getReader","callbacks","reader","contentLength","total","lengthComputable","loaded","stream","readData","read","done","close","byteLength","ProgressEvent","enqueue","Response","statusText","arrayBuffer","blob","text","parser","DOMParser","parseFromString","re","label","decoder","TextDecoder","decode","AnimationLoader","setPath","setRequestHeader","setWithCredentials","CompressedTextureLoader","setResponseType","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","removeEventListeners","onImageError","CubeTextureLoader","urls","setCrossOrigin","DataTextureLoader","texData","TextureLoader","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","isSphericalHarmonics3","coeff","shBasis","LightProbe","MaterialLoader","getTexture","createMaterialFromType","materialLib","LoaderUtils","fromCharCode","decodeURIComponent","escape","lastIndexOf","InstancedBufferGeometry","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","extractUrlBase","loadAsync","parseAsync","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","parseImagesAsync","bufferGeometryLoader","setTextures","loadImage","deserializeImage","imageArray","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","isInteger","objectAnimations","ImageBitmapLoader","isImageBitmapLoader","createImageBitmap","fetchOptions","res","colorSpaceConversion","imageBitmap","AudioContext","window","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","isHemisphereLightProbe","sky","ground","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","_projectionMatrix","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","targetObject","resolvedProperty","propertyIndex","dest","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","root","isAnimationObjectGroup","matches","results","lastDot","substring","getBoneByName","searchNodeSubtree","childNode","subTreeNode","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","indicesByUUID","paths","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","action","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_controlInterpolantsResultBuffer","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","create","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","UniformsGroup","isUniformsGroup","uniformsSource","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","coords","unproject","intersectObject","ascSort","Spherical","other","EPS","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","colors","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","rotateY","GridHelper","PolarGridHelper","sectors","rings","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","addLine","addPoint","colorFrustum","colorCone","colorUp","colorTarget","colorCross","setColors","colorAttribute","setPoint","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","AxesHelper","xAxisColor","yAxisColor","zAxisColor","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","tmpHoles","_tables","_generateTables","floatView","uint32View","baseTable","shiftTable","mantissaTable","exponentTable","offsetTable","toHalfFloat","val","fromHalfFloat","DataUtils","ImmediateRenderObject","WebGLMultisampleRenderTarget","DataTexture2DArray","DataTexture3D","BoxBufferGeometry","CapsuleBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","revision","__THREE__","_changeEvent","_startEvent","_endEvent","TrackballControls","STATE","NONE","ZOOM","TOUCH_ROTATE","TOUCH_ZOOM_PAN","touchAction","screen","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","mouseButtons","lastPosition","lastZoom","_keyState","_touchZoomDistanceStart","_touchZoomDistanceEnd","_lastAngle","_eye","_movePrev","_moveCurr","_lastAxis","_zoomStart","_zoomEnd","_panStart","_panEnd","_pointers","_pointerPositions","target0","position0","up0","zoom0","handleResize","getBoundingClientRect","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","getMouseOnScreen","pageX","pageY","getMouseOnCircle","rotateCamera","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","zoomCamera","panCamera","mouseChange","objectUp","pan","scale_x","clientWidth","scale_y","checkDistances","onPointerDown","setPointerCapture","pointerId","onPointerMove","onPointerUp","addPointer","pointerType","onTouchStart","onMouseDown","onTouchMove","onMouseMove","onTouchEnd","onMouseUp","removePointer","releasePointerCapture","onPointerCancel","keydown","keyup","button","onMouseWheel","deltaMode","deltaY","trackPointer","getSecondPointerPosition","contextmenu","pointer","passive","THREE","getElementById","innerWidth","innerHeight","starDataEl","starNameEl","starPositionEl","starNationsEl","starDiscriptionEl","clickedData","controls","onWindowResize","appendChild","starData","require","stars","star","nations","discription","drawnLines","link","linkedStarName","linkedStar","lineKey","includes","lineMaterial","pointArray","lineGeometry","setFromCamera","clientX","clientY","intersectObjects","innerHTML","animate"],"sourceRoot":""}